2024-06-01T08:24:20.1495287-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T08:24:20.3642337-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T08:24:20.3660570-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T08:24:20.3662928-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T08:24:47.1805053-03:00 0HN425LOQ6RIM:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - null null (d509f86a)
2024-06-01T08:24:47.3913109-03:00 0HN425LOQ6RIM:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 212.1559ms (74253ad3)
2024-06-01T08:24:47.6361629-03:00 0HN425LOQ6RIM:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2024-06-01T08:24:47.6715561-03:00 0HN425LOQ6RIM:00000002 [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2024-06-01T08:24:47.6727158-03:00 0HN425LOQ6RIM:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 36.4459ms (74253ad3)
2024-06-01T08:24:47.7316434-03:00 0HN425LOQ6RIN:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-01T08:24:47.9205699-03:00 0HN425LOQ6RIN:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 188.9059ms (74253ad3)
2024-06-01T08:29:39.7922427-03:00 0HN425LOQ6RIO:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions""" - null null (d509f86a)
2024-06-01T08:29:39.8059909-03:00 0HN425LOQ6RIO:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T08:29:39.8294795-03:00 0HN425LOQ6RIO:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] Get()" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:29:41.5576239-03:00 0HN425LOQ6RIO:00000001 [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T08:29:41.5834184-03:00 0HN425LOQ6RIO:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:29:41.6172045-03:00 0HN425LOQ6RIO:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)" in 1782.9338ms (afa2e885)
2024-06-01T08:29:41.6173331-03:00 0HN425LOQ6RIO:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T08:29:41.6303543-03:00 0HN425LOQ6RIO:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions""" - 200 null "application/json; charset=utf-8" 1838.0716ms (74253ad3)
2024-06-01T08:30:23.9183680-03:00 0HN425LOQ6RIO:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 158 (d509f86a)
2024-06-01T08:30:23.9205178-03:00 0HN425LOQ6RIO:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T08:30:23.9295792-03:00 0HN425LOQ6RIO:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:30:24.1980142-03:00 0HN425LOQ6RIO:00000002 [ERR] Failed executing DbCommand ("38"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (627a98df)
2024-06-01T08:30:24.2334731-03:00 0HN425LOQ6RIO:00000002 [ERR] An exception occurred in the database while saving changes for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-06-01T08:30:24.2361162-03:00 0HN425LOQ6RIO:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 306.2604ms (afa2e885)
2024-06-01T08:30:24.2370852-03:00 0HN425LOQ6RIO:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T08:30:24.2484861-03:00 0HN425LOQ6RIO:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:30:24.2576467-03:00 0HN425LOQ6RIO:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 500 null "text/plain; charset=utf-8" 339.2567ms (74253ad3)
2024-06-01T08:32:52.3576151-03:00 0HN425LOQ6RIP:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 148 (d509f86a)
2024-06-01T08:32:52.3579172-03:00 0HN425LOQ6RIP:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T08:32:52.3580705-03:00 0HN425LOQ6RIP:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:32:52.4772056-03:00 0HN425LOQ6RIP:00000001 [ERR] Failed executing DbCommand ("21"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (627a98df)
2024-06-01T08:32:52.4874396-03:00 0HN425LOQ6RIP:00000001 [ERR] An exception occurred in the database while saving changes for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table \"tb_promotions\" violates foreign key constraint \"fk_tb_promotions_tb_promotions\"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table \"tb_promotions\" violates foreign key constraint \"fk_tb_promotions_tb_promotions\"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:32:52.4881338-03:00 0HN425LOQ6RIP:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 129.9493ms (afa2e885)
2024-06-01T08:32:52.4883466-03:00 0HN425LOQ6RIP:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T08:32:52.4916489-03:00 0HN425LOQ6RIP:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:32:52.4956298-03:00 0HN425LOQ6RIP:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 500 null "text/plain; charset=utf-8" 137.9989ms (74253ad3)
2024-06-01T08:33:22.6522486-03:00 0HN425LOQ6RIP:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 148 (d509f86a)
2024-06-01T08:33:22.6526564-03:00 0HN425LOQ6RIP:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T08:33:22.6528072-03:00 0HN425LOQ6RIP:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:33:22.6589093-03:00 0HN425LOQ6RIP:00000002 [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (627a98df)
2024-06-01T08:33:22.6689523-03:00 0HN425LOQ6RIP:00000002 [ERR] An exception occurred in the database while saving changes for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table \"tb_promotions\" violates foreign key constraint \"fk_tb_promotions_tb_promotions\"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table \"tb_promotions\" violates foreign key constraint \"fk_tb_promotions_tb_promotions\"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:33:22.6695528-03:00 0HN425LOQ6RIP:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 16.6524ms (afa2e885)
2024-06-01T08:33:22.6697282-03:00 0HN425LOQ6RIP:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T08:33:22.6745852-03:00 0HN425LOQ6RIP:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:33:22.6779826-03:00 0HN425LOQ6RIP:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 500 null "text/plain; charset=utf-8" 25.722ms (74253ad3)
2024-06-01T08:33:40.5022387-03:00 0HN425LOQ6RIP:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 148 (d509f86a)
2024-06-01T08:33:40.5024303-03:00 0HN425LOQ6RIP:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T08:33:40.5025549-03:00 0HN425LOQ6RIP:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:33:40.5081861-03:00 0HN425LOQ6RIP:00000003 [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (627a98df)
2024-06-01T08:33:40.5163752-03:00 0HN425LOQ6RIP:00000003 [ERR] An exception occurred in the database while saving changes for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table \"tb_promotions\" violates foreign key constraint \"fk_tb_promotions_tb_promotions\"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table \"tb_promotions\" violates foreign key constraint \"fk_tb_promotions_tb_promotions\"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:33:40.5171279-03:00 0HN425LOQ6RIP:00000003 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 14.4935ms (afa2e885)
2024-06-01T08:33:40.5173108-03:00 0HN425LOQ6RIP:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T08:33:40.5215184-03:00 0HN425LOQ6RIP:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_promotions" violates foreign key constraint "fk_tb_promotions_tb_promotions"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_promotions
    ConstraintName: fk_tb_promotions_tb_promotions
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 55
   at ApiWebDB.Controllers.PromotionsController.Post(PromotionDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/PromotionsController.cs:line 64
   at lambda_method16(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T08:33:40.5245438-03:00 0HN425LOQ6RIP:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 500 null "text/plain; charset=utf-8" 22.1909ms (74253ad3)
2024-06-01T08:35:06.2359360-03:00 0HN425LOQ6RIP:00000004 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 146 (d509f86a)
2024-06-01T08:35:06.2362357-03:00 0HN425LOQ6RIP:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T08:35:06.2363525-03:00 0HN425LOQ6RIP:00000004 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:35:06.5088179-03:00 0HN425LOQ6RIP:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T08:35:06.5550473-03:00 0HN425LOQ6RIP:00000004 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T08:35:06.5851340-03:00 0HN425LOQ6RIP:00000004 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 348.6933ms (afa2e885)
2024-06-01T08:35:06.5852427-03:00 0HN425LOQ6RIP:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T08:35:06.5854069-03:00 0HN425LOQ6RIP:00000004 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 201 null "application/json; charset=utf-8" 349.4799ms (74253ad3)
2024-06-01T08:35:25.5192036-03:00 0HN425LOQ6RIP:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/1""" - null null (d509f86a)
2024-06-01T08:35:25.5194944-03:00 0HN425LOQ6RIP:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T08:35:25.5225619-03:00 0HN425LOQ6RIP:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Get(Int32)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:35:25.5568598-03:00 0HN425LOQ6RIP:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T08:35:25.5576697-03:00 0HN425LOQ6RIP:00000005 [INF] Executing "NotFoundObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-01T08:35:25.5579401-03:00 0HN425LOQ6RIP:00000005 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)" in 35.2808ms (afa2e885)
2024-06-01T08:35:25.5581653-03:00 0HN425LOQ6RIP:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T08:35:25.5585275-03:00 0HN425LOQ6RIP:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/1""" - 404 null "text/plain; charset=utf-8" 39.2187ms (74253ad3)
2024-06-01T08:35:31.1466977-03:00 0HN425LOQ6RIP:00000006 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/3""" - null null (d509f86a)
2024-06-01T08:35:31.1470048-03:00 0HN425LOQ6RIP:00000006 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T08:35:31.1471293-03:00 0HN425LOQ6RIP:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Get(Int32)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:35:31.1559937-03:00 0HN425LOQ6RIP:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T08:35:31.1565421-03:00 0HN425LOQ6RIP:00000006 [INF] Executing "NotFoundObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-01T08:35:31.1572175-03:00 0HN425LOQ6RIP:00000006 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)" in 10.0174ms (afa2e885)
2024-06-01T08:35:31.1572735-03:00 0HN425LOQ6RIP:00000006 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T08:35:31.1579819-03:00 0HN425LOQ6RIP:00000006 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/3""" - 404 null "text/plain; charset=utf-8" 11.2602ms (74253ad3)
2024-06-01T08:35:36.0833054-03:00 0HN425LOQ6RIP:00000007 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/2""" - null null (d509f86a)
2024-06-01T08:35:36.0835379-03:00 0HN425LOQ6RIP:00000007 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T08:35:36.0836495-03:00 0HN425LOQ6RIP:00000007 [INF] Route matched with "{action = \"Get\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Get(Int32)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:35:36.0863698-03:00 0HN425LOQ6RIP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T08:35:36.0867906-03:00 0HN425LOQ6RIP:00000007 [INF] Executing "NotFoundObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-01T08:35:36.0869886-03:00 0HN425LOQ6RIP:00000007 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)" in 3.2811ms (afa2e885)
2024-06-01T08:35:36.0870361-03:00 0HN425LOQ6RIP:00000007 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T08:35:36.0871679-03:00 0HN425LOQ6RIP:00000007 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/2""" - 404 null "text/plain; charset=utf-8" 3.8681ms (74253ad3)
2024-06-01T08:35:54.4391333-03:00 0HN425LOQ6RIP:00000008 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/4""" - null null (d509f86a)
2024-06-01T08:35:54.4393673-03:00 0HN425LOQ6RIP:00000008 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T08:35:54.4394846-03:00 0HN425LOQ6RIP:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Get(Int32)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:35:54.4419449-03:00 0HN425LOQ6RIP:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T08:35:54.4978322-03:00 0HN425LOQ6RIP:00000008 [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T08:35:54.5014805-03:00 0HN425LOQ6RIP:00000008 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)" in 61.9099ms (afa2e885)
2024-06-01T08:35:54.5015726-03:00 0HN425LOQ6RIP:00000008 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T08:35:54.5017446-03:00 0HN425LOQ6RIP:00000008 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/4""" - 200 null "application/json; charset=utf-8" 62.6034ms (74253ad3)
2024-06-01T08:37:41.5200735-03:00 0HN425LOQ6RIP:00000009 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-06-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - null null (d509f86a)
2024-06-01T08:37:41.5203846-03:00 0HN425LOQ6RIP:00000009 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:37:41.5241773-03:00 0HN425LOQ6RIP:00000009 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:37:41.5451060-03:00 0HN425LOQ6RIP:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:37:41.5454410-03:00 0HN425LOQ6RIP:00000009 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:37:41.5456451-03:00 0HN425LOQ6RIP:00000009 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 21.376ms (afa2e885)
2024-06-01T08:37:41.5456913-03:00 0HN425LOQ6RIP:00000009 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:37:41.5458291-03:00 0HN425LOQ6RIP:00000009 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-06-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - 200 null "application/json; charset=utf-8" 25.7583ms (74253ad3)
2024-06-01T08:37:47.9007879-03:00 0HN425LOQ6RIP:0000000A [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-06-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - null null (d509f86a)
2024-06-01T08:37:47.9010244-03:00 0HN425LOQ6RIP:0000000A [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:37:47.9011479-03:00 0HN425LOQ6RIP:0000000A [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:37:47.9048901-03:00 0HN425LOQ6RIP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:37:47.9051866-03:00 0HN425LOQ6RIP:0000000A [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:37:47.9054565-03:00 0HN425LOQ6RIP:0000000A [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 4.2504ms (afa2e885)
2024-06-01T08:37:47.9055017-03:00 0HN425LOQ6RIP:0000000A [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:37:47.9056362-03:00 0HN425LOQ6RIP:0000000A [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-06-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - 200 null "application/json; charset=utf-8" 4.8552ms (74253ad3)
2024-06-01T08:37:57.3177489-03:00 0HN425LOQ6RIP:0000000B [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-06-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - null null (d509f86a)
2024-06-01T08:37:57.3179627-03:00 0HN425LOQ6RIP:0000000B [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:37:57.3180984-03:00 0HN425LOQ6RIP:0000000B [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:37:57.3210808-03:00 0HN425LOQ6RIP:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:37:57.3213632-03:00 0HN425LOQ6RIP:0000000B [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:37:57.3224354-03:00 0HN425LOQ6RIP:0000000B [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 4.2712ms (afa2e885)
2024-06-01T08:37:57.3224807-03:00 0HN425LOQ6RIP:0000000B [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:37:57.3234248-03:00 0HN425LOQ6RIP:0000000B [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-06-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - 200 null "application/json; charset=utf-8" 4.8666ms (74253ad3)
2024-06-01T08:38:12.4061127-03:00 0HN425LOQ6RIP:0000000C [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-06-01T02%3A25%3A53" - null null (d509f86a)
2024-06-01T08:38:12.4063169-03:00 0HN425LOQ6RIP:0000000C [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:38:12.4064226-03:00 0HN425LOQ6RIP:0000000C [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:38:12.4091783-03:00 0HN425LOQ6RIP:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:38:12.4094546-03:00 0HN425LOQ6RIP:0000000C [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:38:12.4096620-03:00 0HN425LOQ6RIP:0000000C [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 3.1539ms (afa2e885)
2024-06-01T08:38:12.4097205-03:00 0HN425LOQ6RIP:0000000C [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:38:12.4098375-03:00 0HN425LOQ6RIP:0000000C [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-06-01T02%3A25%3A53" - 200 null "application/json; charset=utf-8" 3.7473ms (74253ad3)
2024-06-01T08:38:49.1390306-03:00 0HN425LOQ6RIP:0000000D [INF] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5113""""/api/Promotions/4""" - "application/json" 145 (d509f86a)
2024-06-01T08:38:49.1392311-03:00 0HN425LOQ6RIP:0000000D [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Put (Trabalho Final)"' (500cc934)
2024-06-01T08:38:49.1417147-03:00 0HN425LOQ6RIP:0000000D [INF] Route matched with "{action = \"Put\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Put(Int32, ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:38:49.1625350-03:00 0HN425LOQ6RIP:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value
FROM tb_promotions AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T08:38:49.1692491-03:00 0HN425LOQ6RIP:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_promotions SET enddate = @p0, productid = @p1, promotiontype = @p2, startdate = @p3, value = @p4
WHERE id = @p5;" (0723d8ff)
2024-06-01T08:38:49.1704673-03:00 0HN425LOQ6RIP:0000000D [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T08:38:49.1717458-03:00 0HN425LOQ6RIP:0000000D [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Put (Trabalho Final)" in 29.7488ms (afa2e885)
2024-06-01T08:38:49.1727022-03:00 0HN425LOQ6RIP:0000000D [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Put (Trabalho Final)"' (99874f2b)
2024-06-01T08:38:49.1744950-03:00 0HN425LOQ6RIP:0000000D [INF] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5113""""/api/Promotions/4""" - 200 null "application/json; charset=utf-8" 35.4397ms (74253ad3)
2024-06-01T08:39:23.0723336-03:00 0HN425LOQ6RIP:0000000E [INF] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5113""""/api/Promotions/4""" - null null (d509f86a)
2024-06-01T08:39:23.0728083-03:00 0HN425LOQ6RIP:0000000E [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Delete (Trabalho Final)"' (500cc934)
2024-06-01T08:39:23.0749991-03:00 0HN425LOQ6RIP:0000000E [INF] Route matched with "{action = \"Delete\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult Delete(Int32)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:39:23.0841161-03:00 0HN425LOQ6RIP:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value
FROM tb_promotions AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T08:39:23.0952509-03:00 0HN425LOQ6RIP:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tb_promotions
WHERE id = @p0;" (0723d8ff)
2024-06-01T08:39:23.1083012-03:00 0HN425LOQ6RIP:0000000E [INF] Executing StatusCodeResult, setting HTTP status code 204 (3fe03d2f)
2024-06-01T08:39:23.1089616-03:00 0HN425LOQ6RIP:0000000E [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Delete (Trabalho Final)" in 33.8753ms (afa2e885)
2024-06-01T08:39:23.1093827-03:00 0HN425LOQ6RIP:0000000E [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Delete (Trabalho Final)"' (99874f2b)
2024-06-01T08:39:23.1108848-03:00 0HN425LOQ6RIP:0000000E [INF] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5113""""/api/Promotions/4""" - 204 null null 38.5391ms (74253ad3)
2024-06-01T08:57:04.2779455-03:00 0HN425LOQ6RIQ:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-05-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - null null (d509f86a)
2024-06-01T08:57:04.2796475-03:00 0HN425LOQ6RIQ:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:57:04.2882126-03:00 0HN425LOQ6RIQ:00000001 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:57:04.8113730-03:00 0HN425LOQ6RIQ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:57:04.8121776-03:00 0HN425LOQ6RIQ:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:57:04.8125306-03:00 0HN425LOQ6RIQ:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 524.2255ms (afa2e885)
2024-06-01T08:57:04.8125717-03:00 0HN425LOQ6RIQ:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:57:04.8127049-03:00 0HN425LOQ6RIQ:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""?startDate=2024-05-01T02%3A25%3A53&endDate=2024-06-30T23%3A59%3A59" - 200 null "application/json; charset=utf-8" 539.3617ms (74253ad3)
2024-06-01T08:57:14.1974934-03:00 0HN425LOQ6RIQ:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""" - null null (d509f86a)
2024-06-01T08:57:14.1984938-03:00 0HN425LOQ6RIQ:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:57:14.1987014-03:00 0HN425LOQ6RIQ:00000002 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:57:14.2034598-03:00 0HN425LOQ6RIQ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:57:14.2041460-03:00 0HN425LOQ6RIQ:00000002 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:57:14.2051109-03:00 0HN425LOQ6RIQ:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 6.3375ms (afa2e885)
2024-06-01T08:57:14.2057524-03:00 0HN425LOQ6RIQ:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:57:14.2067377-03:00 0HN425LOQ6RIQ:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/4/period""" - 200 null "application/json; charset=utf-8" 9.2307ms (74253ad3)
2024-06-01T08:57:30.4392350-03:00 0HN425LOQ6RIQ:00000003 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T08:57:30.4405256-03:00 0HN425LOQ6RIQ:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T08:57:30.4474436-03:00 0HN425LOQ6RIQ:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:57:30.4769144-03:00 0HN425LOQ6RIQ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T08:57:30.4777781-03:00 0HN425LOQ6RIQ:00000003 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:57:30.4792039-03:00 0HN425LOQ6RIQ:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 31.2558ms (afa2e885)
2024-06-01T08:57:30.4792809-03:00 0HN425LOQ6RIQ:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T08:57:30.4794258-03:00 0HN425LOQ6RIQ:00000003 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 40.1915ms (74253ad3)
2024-06-01T08:57:46.5840084-03:00 0HN425LOQ6RIQ:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""" - null null (d509f86a)
2024-06-01T08:57:46.5843521-03:00 0HN425LOQ6RIQ:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:57:46.5845077-03:00 0HN425LOQ6RIQ:00000004 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:57:46.5895058-03:00 0HN425LOQ6RIQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:57:46.5898419-03:00 0HN425LOQ6RIQ:00000004 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:57:46.5900238-03:00 0HN425LOQ6RIQ:00000004 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 5.4318ms (afa2e885)
2024-06-01T08:57:46.5900618-03:00 0HN425LOQ6RIQ:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:57:46.5901971-03:00 0HN425LOQ6RIQ:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""" - 200 null "application/json; charset=utf-8" 6.1731ms (74253ad3)
2024-06-01T08:57:52.8592158-03:00 0HN425LOQ6RIQ:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""" - null null (d509f86a)
2024-06-01T08:57:52.8596422-03:00 0HN425LOQ6RIQ:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T08:57:52.8597497-03:00 0HN425LOQ6RIQ:00000005 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T08:57:52.8626050-03:00 0HN425LOQ6RIQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T08:57:52.8638947-03:00 0HN425LOQ6RIQ:00000005 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T08:57:52.8665685-03:00 0HN425LOQ6RIQ:00000005 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 6.7344ms (afa2e885)
2024-06-01T08:57:52.8666388-03:00 0HN425LOQ6RIQ:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T08:57:52.8674473-03:00 0HN425LOQ6RIQ:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""" - 200 null "application/json; charset=utf-8" 7.5605ms (74253ad3)
2024-06-01T09:28:36.3477891-03:00 0HN425LOQ6RIR:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 137 (d509f86a)
2024-06-01T09:28:36.3479808-03:00 0HN425LOQ6RIR:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T09:28:36.3586361-03:00 0HN425LOQ6RIR:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:28:36.6899934-03:00 0HN425LOQ6RIR:00000001 [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (627a98df)
2024-06-01T09:28:36.6950530-03:00 0HN425LOQ6RIR:00000001 [ERR] An exception occurred in the database while saving changes for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table \"tb_sales\" violates foreign key constraint \"fk_tb_sales_tb_products\"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table \"tb_sales\" violates foreign key constraint \"fk_tb_sales_tb_products\"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_sales
    ConstraintName: fk_tb_sales_tb_products
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_sales" violates foreign key constraint "fk_tb_sales_tb_products"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_sales" violates foreign key constraint "fk_tb_sales_tb_products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_sales
    ConstraintName: fk_tb_sales_tb_products
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 48
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method168(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task, ConfigureAwaitOptions options)
2024-06-01T09:28:36.6959856-03:00 0HN425LOQ6RIR:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 337.2523ms (afa2e885)
2024-06-01T09:28:36.6988907-03:00 0HN425LOQ6RIR:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T09:28:36.7092352-03:00 0HN425LOQ6RIR:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "tb_sales" violates foreign key constraint "fk_tb_sales_tb_products"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "tb_sales" violates foreign key constraint "fk_tb_sales_tb_products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: tb_sales
    ConstraintName: fk_tb_sales_tb_products
    File: ri_triggers.c
    Line: 2528
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 48
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method168(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T09:28:36.7198046-03:00 0HN425LOQ6RIR:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 372.6407ms (74253ad3)
2024-06-01T09:29:49.9478043-03:00 0HN425LOQ6RIR:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 146 (d509f86a)
2024-06-01T09:29:49.9479696-03:00 0HN425LOQ6RIR:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T09:29:49.9480841-03:00 0HN425LOQ6RIR:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:29:49.9563059-03:00 0HN425LOQ6RIR:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T09:29:49.9580378-03:00 0HN425LOQ6RIR:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T09:29:49.9617511-03:00 0HN425LOQ6RIR:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 13.5928ms (afa2e885)
2024-06-01T09:29:49.9618162-03:00 0HN425LOQ6RIR:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T09:29:49.9620660-03:00 0HN425LOQ6RIR:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 201 null "application/json; charset=utf-8" 14.1517ms (74253ad3)
2024-06-01T09:35:01.9109151-03:00 0HN425LOQ6RIU:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T09:35:01.9111712-03:00 0HN425LOQ6RIU:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:35:01.9112822-03:00 0HN425LOQ6RIU:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:35:02.1292681-03:00 0HN425LOQ6RIU:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T09:35:02.1296239-03:00 0HN425LOQ6RIU:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:35:02.1299150-03:00 0HN425LOQ6RIU:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 218.5785ms (afa2e885)
2024-06-01T09:35:02.1299620-03:00 0HN425LOQ6RIU:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:35:02.1301420-03:00 0HN425LOQ6RIU:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 219.2141ms (74253ad3)
2024-06-01T09:35:06.0295206-03:00 0HN425LOQ6RIU:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T09:35:06.0296976-03:00 0HN425LOQ6RIU:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:35:06.0298107-03:00 0HN425LOQ6RIU:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:35:06.0351389-03:00 0HN425LOQ6RIU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T09:35:06.0354579-03:00 0HN425LOQ6RIU:00000002 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:35:06.0356705-03:00 0HN425LOQ6RIU:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 5.8059ms (afa2e885)
2024-06-01T09:35:06.0357129-03:00 0HN425LOQ6RIU:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:35:06.0358268-03:00 0HN425LOQ6RIU:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 6.3024ms (74253ad3)
2024-06-01T09:35:20.1995246-03:00 0HN425LOQ6RIU:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 135 (d509f86a)
2024-06-01T09:35:20.2004052-03:00 0HN425LOQ6RIU:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T09:35:20.2005684-03:00 0HN425LOQ6RIU:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:35:20.2041446-03:00 0HN425LOQ6RIU:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T09:35:20.2086622-03:00 0HN425LOQ6RIU:00000003 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T09:35:20.2144515-03:00 0HN425LOQ6RIU:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 13.806ms (afa2e885)
2024-06-01T09:35:20.2145154-03:00 0HN425LOQ6RIU:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T09:35:20.2146956-03:00 0HN425LOQ6RIU:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 15.129ms (74253ad3)
2024-06-01T09:37:50.0580977-03:00 0HN425LOQ6RIV:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T09:37:50.0583010-03:00 0HN425LOQ6RIV:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:37:50.0609765-03:00 0HN425LOQ6RIV:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(Int32)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:37:50.0758669-03:00 0HN425LOQ6RIV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T09:37:50.0767008-03:00 0HN425LOQ6RIV:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 15.642ms (afa2e885)
2024-06-01T09:37:50.0773240-03:00 0HN425LOQ6RIV:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:37:50.0794536-03:00 0HN425LOQ6RIV:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.NotFoundException: Sale not found
   at TrabalhoFinal.Services.SaleService.GetById(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 31
   at ApiWebDB.Controllers.SalesController.Get(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 29
   at lambda_method243(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T09:37:50.0810393-03:00 0HN425LOQ6RIV:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 500 null "text/plain; charset=utf-8" 22.9099ms (74253ad3)
2024-06-01T09:42:21.8186982-03:00 0HN425LOQ6RJ0:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T09:42:21.8189356-03:00 0HN425LOQ6RJ0:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:42:21.8190514-03:00 0HN425LOQ6RJ0:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:42:22.0881949-03:00 0HN425LOQ6RJ0:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T09:42:22.0912152-03:00 0HN425LOQ6RJ0:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:42:22.0919079-03:00 0HN425LOQ6RJ0:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 272.7908ms (afa2e885)
2024-06-01T09:42:22.0919628-03:00 0HN425LOQ6RJ0:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:42:22.0921264-03:00 0HN425LOQ6RJ0:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 273.4224ms (74253ad3)
2024-06-01T09:43:09.0469302-03:00 0HN425LOQ6RJ0:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 132 (d509f86a)
2024-06-01T09:43:09.0471077-03:00 0HN425LOQ6RJ0:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T09:43:09.0472185-03:00 0HN425LOQ6RJ0:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:43:09.0509051-03:00 0HN425LOQ6RJ0:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T09:43:09.0514630-03:00 0HN425LOQ6RJ0:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T09:43:09.0519180-03:00 0HN425LOQ6RJ0:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 4.6364ms (afa2e885)
2024-06-01T09:43:09.0519595-03:00 0HN425LOQ6RJ0:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T09:43:09.0521075-03:00 0HN425LOQ6RJ0:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 5.1367ms (74253ad3)
2024-06-01T09:43:14.1598988-03:00 0HN425LOQ6RJ0:00000003 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T09:43:14.1600901-03:00 0HN425LOQ6RJ0:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:43:14.1602207-03:00 0HN425LOQ6RJ0:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(Int32)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:43:14.1641480-03:00 0HN425LOQ6RJ0:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T09:43:14.1646817-03:00 0HN425LOQ6RJ0:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 4.3965ms (afa2e885)
2024-06-01T09:43:14.1648761-03:00 0HN425LOQ6RJ0:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:43:14.1666556-03:00 0HN425LOQ6RJ0:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.NotFoundException: Sale not found
   at TrabalhoFinal.Services.SaleService.GetById(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 31
   at ApiWebDB.Controllers.SalesController.Get(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 29
   at lambda_method243(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T09:43:14.1688106-03:00 0HN425LOQ6RJ0:00000003 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 500 null "text/plain; charset=utf-8" 8.917ms (74253ad3)
2024-06-01T09:43:53.4041990-03:00 0HN425LOQ6RJ0:00000004 [INF] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5113""""/api/Sales/2""" - "application/json" 132 (d509f86a)
2024-06-01T09:43:53.4046058-03:00 0HN425LOQ6RJ0:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Put (Trabalho Final)"' (500cc934)
2024-06-01T09:43:53.4071258-03:00 0HN425LOQ6RJ0:00000004 [INF] Route matched with "{action = \"Put\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Put(Int32, ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:43:53.4180585-03:00 0HN425LOQ6RJ0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty
FROM tb_sales AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T09:43:53.4213879-03:00 0HN425LOQ6RJ0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_sales SET code = @p0, createat = @p1, discount = @p2, price = @p3, productid = @p4, qty = @p5
WHERE id = @p6;" (0723d8ff)
2024-06-01T09:43:53.4224636-03:00 0HN425LOQ6RJ0:00000004 [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T09:43:53.4229244-03:00 0HN425LOQ6RJ0:00000004 [INF] Executed action "ApiWebDB.Controllers.SalesController.Put (Trabalho Final)" in 15.6675ms (afa2e885)
2024-06-01T09:43:53.4233839-03:00 0HN425LOQ6RJ0:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Put (Trabalho Final)"' (99874f2b)
2024-06-01T09:43:53.4237200-03:00 0HN425LOQ6RJ0:00000004 [INF] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5113""""/api/Sales/2""" - 200 null "application/json; charset=utf-8" 19.5234ms (74253ad3)
2024-06-01T09:44:17.5528149-03:00 0HN425LOQ6RJ0:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T09:44:17.5538033-03:00 0HN425LOQ6RJ0:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:44:17.5539899-03:00 0HN425LOQ6RJ0:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(Int32)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:44:17.5566808-03:00 0HN425LOQ6RJ0:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T09:44:17.5572395-03:00 0HN425LOQ6RJ0:00000005 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 3.1646ms (afa2e885)
2024-06-01T09:44:17.5573899-03:00 0HN425LOQ6RJ0:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:44:17.5585132-03:00 0HN425LOQ6RJ0:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.NotFoundException: Sale not found
   at TrabalhoFinal.Services.SaleService.GetById(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 31
   at ApiWebDB.Controllers.SalesController.Get(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 29
   at lambda_method243(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T09:44:17.5604408-03:00 0HN425LOQ6RJ0:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 500 null "text/plain; charset=utf-8" 7.6268ms (74253ad3)
2024-06-01T09:44:35.1800620-03:00 0HN425LOQ6RJ0:00000006 [INF] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5113""""/api/Sales/2""" - null null (d509f86a)
2024-06-01T09:44:35.1802529-03:00 0HN425LOQ6RJ0:00000006 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Delete (Trabalho Final)"' (500cc934)
2024-06-01T09:44:35.1829429-03:00 0HN425LOQ6RJ0:00000006 [INF] Route matched with "{action = \"Delete\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult Delete(Int32)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:44:35.1893442-03:00 0HN425LOQ6RJ0:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty
FROM tb_sales AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T09:44:35.1942213-03:00 0HN425LOQ6RJ0:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM tb_sales
WHERE id = @p0;" (0723d8ff)
2024-06-01T09:44:35.1948627-03:00 0HN425LOQ6RJ0:00000006 [INF] Executing StatusCodeResult, setting HTTP status code 204 (3fe03d2f)
2024-06-01T09:44:35.1949339-03:00 0HN425LOQ6RJ0:00000006 [INF] Executed action "ApiWebDB.Controllers.SalesController.Delete (Trabalho Final)" in 11.9004ms (afa2e885)
2024-06-01T09:44:35.1949855-03:00 0HN425LOQ6RJ0:00000006 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Delete (Trabalho Final)"' (99874f2b)
2024-06-01T09:44:35.1963354-03:00 0HN425LOQ6RJ0:00000006 [INF] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5113""""/api/Sales/2""" - 204 null null 16.0001ms (74253ad3)
2024-06-01T09:45:06.8215305-03:00 0HN425LOQ6RJ0:00000007 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-01%2012%3A27%3A00" - null null (d509f86a)
2024-06-01T09:45:06.8217370-03:00 0HN425LOQ6RJ0:00000007 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (500cc934)
2024-06-01T09:45:06.8238015-03:00 0HN425LOQ6RJ0:00000007 [INF] Route matched with "{action = \"GetSalesReportByPeriod\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrabalhoFinal.Services.SaleReportDTO]] GetSalesReportByPeriod(System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:45:06.8392338-03:00 0HN425LOQ6RJ0:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
ORDER BY t.createat DESC" (0723d8ff)
2024-06-01T09:45:06.8425575-03:00 0HN425LOQ6RJ0:00000007 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TrabalhoFinal.Services.SaleReportDTO, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:45:06.8455938-03:00 0HN425LOQ6RJ0:00000007 [INF] Executed action "ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)" in 21.7165ms (afa2e885)
2024-06-01T09:45:06.8456545-03:00 0HN425LOQ6RJ0:00000007 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T09:45:06.8457569-03:00 0HN425LOQ6RJ0:00000007 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-01%2012%3A27%3A00" - 200 null "application/json; charset=utf-8" 24.2221ms (74253ad3)
2024-06-01T09:45:19.2048831-03:00 0HN425LOQ6RJ0:00000008 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs""" - null null (d509f86a)
2024-06-01T09:45:19.2050693-03:00 0HN425LOQ6RJ0:00000008 [INF] Executing endpoint '"ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:45:19.2064287-03:00 0HN425LOQ6RJ0:00000008 [INF] Route matched with "{action = \"Get\", controller = \"StockLogs\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.StockLogDTO]] Get()" on controller "ApiWebDB.Controllers.StockLogsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:45:19.2220233-03:00 0HN425LOQ6RJ0:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.createdat, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_stock_logs AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T09:45:19.2497836-03:00 0HN425LOQ6RJ0:00000008 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbStockLog, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:45:19.2534872-03:00 0HN425LOQ6RJ0:00000008 [INF] Executed action "ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)" in 46.9808ms (afa2e885)
2024-06-01T09:45:19.2535477-03:00 0HN425LOQ6RJ0:00000008 [INF] Executed endpoint '"ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:45:19.2536698-03:00 0HN425LOQ6RJ0:00000008 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs""" - 200 null "application/json; charset=utf-8" 48.7948ms (74253ad3)
2024-06-01T09:45:39.7820950-03:00 0HN425LOQ6RJ0:00000009 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs/1""" - null null (d509f86a)
2024-06-01T09:45:39.7822785-03:00 0HN425LOQ6RJ0:00000009 [INF] Executing endpoint '"ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:45:39.7848008-03:00 0HN425LOQ6RJ0:00000009 [INF] Route matched with "{action = \"Get\", controller = \"StockLogs\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.StockLogDTO] Get(Int32)" on controller "ApiWebDB.Controllers.StockLogsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:45:39.7977862-03:00 0HN425LOQ6RJ0:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.createdat, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_stock_logs AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T09:45:39.7982722-03:00 0HN425LOQ6RJ0:00000009 [INF] Executed action "ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)" in 13.3591ms (afa2e885)
2024-06-01T09:45:39.7984176-03:00 0HN425LOQ6RJ0:00000009 [INF] Executed endpoint '"ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:45:39.7997135-03:00 0HN425LOQ6RJ0:00000009 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.NotFoundException: Stock log not found
   at TrabalhoFinal.Services.StockLogService.GetById(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/StockLogService.cs:line 30
   at ApiWebDB.Controllers.StockLogsController.Get(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/StockLogsController.cs:line 28
   at lambda_method294(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T09:45:39.8012171-03:00 0HN425LOQ6RJ0:00000009 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs/1""" - 500 null "text/plain; charset=utf-8" 19.1003ms (74253ad3)
2024-06-01T09:45:46.2260199-03:00 0HN425LOQ6RJ0:0000000A [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs/2""" - null null (d509f86a)
2024-06-01T09:45:46.2262691-03:00 0HN425LOQ6RJ0:0000000A [INF] Executing endpoint '"ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:45:46.2263630-03:00 0HN425LOQ6RJ0:0000000A [INF] Route matched with "{action = \"Get\", controller = \"StockLogs\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.StockLogDTO] Get(Int32)" on controller "ApiWebDB.Controllers.StockLogsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:45:46.2300394-03:00 0HN425LOQ6RJ0:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.createdat, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_stock_logs AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T09:45:46.2313926-03:00 0HN425LOQ6RJ0:0000000A [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbStockLog"'. (605b4265)
2024-06-01T09:45:46.2318757-03:00 0HN425LOQ6RJ0:0000000A [INF] Executed action "ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)" in 5.4493ms (afa2e885)
2024-06-01T09:45:46.2319152-03:00 0HN425LOQ6RJ0:0000000A [INF] Executed endpoint '"ApiWebDB.Controllers.StockLogsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:45:46.2320120-03:00 0HN425LOQ6RJ0:0000000A [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs/2""" - 200 null "application/json; charset=utf-8" 6.0006ms (74253ad3)
2024-06-01T09:46:03.8544760-03:00 0HN425LOQ6RJ0:0000000B [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs/product/2""" - null null (d509f86a)
2024-06-01T09:46:03.8550482-03:00 0HN425LOQ6RJ0:0000000B [INF] Executing endpoint '"ApiWebDB.Controllers.StockLogsController.GetLogsByProduct (Trabalho Final)"' (500cc934)
2024-06-01T09:46:03.8569439-03:00 0HN425LOQ6RJ0:0000000B [INF] Route matched with "{action = \"GetLogsByProduct\", controller = \"StockLogs\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.StockLogDTO]] GetLogsByProduct(Int32)" on controller "ApiWebDB.Controllers.StockLogsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:46:03.8807767-03:00 0HN425LOQ6RJ0:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id AS \"Id\", t.productid AS \"Productid\", t0.barcode AS \"Barcode\", t0.description AS \"Description\", t.qty AS \"Qty\", t.createdat AS \"Createdat\"
FROM tb_stock_logs AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0
ORDER BY t.createdat DESC" (0723d8ff)
2024-06-01T09:46:03.8819634-03:00 0HN425LOQ6RJ0:0000000B [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.DTO.StockLogDTO, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:46:03.8860554-03:00 0HN425LOQ6RJ0:0000000B [INF] Executed action "ApiWebDB.Controllers.StockLogsController.GetLogsByProduct (Trabalho Final)" in 28.9066ms (afa2e885)
2024-06-01T09:46:03.8867921-03:00 0HN425LOQ6RJ0:0000000B [INF] Executed endpoint '"ApiWebDB.Controllers.StockLogsController.GetLogsByProduct (Trabalho Final)"' (99874f2b)
2024-06-01T09:46:03.8883629-03:00 0HN425LOQ6RJ0:0000000B [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/StockLogs/product/2""" - 200 null "application/json; charset=utf-8" 33.8651ms (74253ad3)
2024-06-01T09:53:23.7472344-03:00 0HN425LOQ6RJ1:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T09:53:23.7475200-03:00 0HN425LOQ6RJ1:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T09:53:23.7476087-03:00 0HN425LOQ6RJ1:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(Int32)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:53:24.0033018-03:00 0HN425LOQ6RJ1:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T09:53:24.0047637-03:00 0HN425LOQ6RJ1:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 257.0756ms (afa2e885)
2024-06-01T09:53:24.0050157-03:00 0HN425LOQ6RJ1:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T09:53:24.0067652-03:00 0HN425LOQ6RJ1:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.NotFoundException: Sale not found
   at TrabalhoFinal.Services.SaleService.GetById(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 31
   at ApiWebDB.Controllers.SalesController.Get(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 29
   at lambda_method243(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T09:53:24.0074528-03:00 0HN425LOQ6RJ1:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 500 null "text/plain; charset=utf-8" 260.2274ms (74253ad3)
2024-06-01T09:54:31.5008515-03:00 0HN425LOQ6RJ1:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-05-31%2012%3A27%3A00" - null null (d509f86a)
2024-06-01T09:54:31.5016082-03:00 0HN425LOQ6RJ1:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (500cc934)
2024-06-01T09:54:31.5017227-03:00 0HN425LOQ6RJ1:00000002 [INF] Route matched with "{action = \"GetSalesReportByPeriod\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrabalhoFinal.Services.SaleReportDTO]] GetSalesReportByPeriod(System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:54:31.5054057-03:00 0HN425LOQ6RJ1:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
ORDER BY t.createat DESC" (0723d8ff)
2024-06-01T09:54:31.5056476-03:00 0HN425LOQ6RJ1:00000002 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TrabalhoFinal.Services.SaleReportDTO, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:54:31.5058071-03:00 0HN425LOQ6RJ1:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)" in 4.0352ms (afa2e885)
2024-06-01T09:54:31.5058386-03:00 0HN425LOQ6RJ1:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T09:54:31.5059200-03:00 0HN425LOQ6RJ1:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-05-31%2012%3A27%3A00" - 200 null "application/json; charset=utf-8" 5.0973ms (74253ad3)
2024-06-01T09:55:11.1991879-03:00 0HN425LOQ6RJ1:00000003 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-30%2000%3A00%3A00" - null null (d509f86a)
2024-06-01T09:55:11.1995947-03:00 0HN425LOQ6RJ1:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (500cc934)
2024-06-01T09:55:11.1997145-03:00 0HN425LOQ6RJ1:00000003 [INF] Route matched with "{action = \"GetSalesReportByPeriod\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrabalhoFinal.Services.SaleReportDTO]] GetSalesReportByPeriod(System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:55:11.2025497-03:00 0HN425LOQ6RJ1:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
ORDER BY t.createat DESC" (0723d8ff)
2024-06-01T09:55:11.2034252-03:00 0HN425LOQ6RJ1:00000003 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TrabalhoFinal.Services.SaleReportDTO, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:55:11.2036431-03:00 0HN425LOQ6RJ1:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)" in 3.857ms (afa2e885)
2024-06-01T09:55:11.2036805-03:00 0HN425LOQ6RJ1:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T09:55:11.2037739-03:00 0HN425LOQ6RJ1:00000003 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-30%2000%3A00%3A00" - 200 null "application/json; charset=utf-8" 4.5915ms (74253ad3)
2024-06-01T09:55:29.2283688-03:00 0HN425LOQ6RJ1:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-01%2010%3A00%3A00" - null null (d509f86a)
2024-06-01T09:55:29.2288038-03:00 0HN425LOQ6RJ1:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (500cc934)
2024-06-01T09:55:29.2289508-03:00 0HN425LOQ6RJ1:00000004 [INF] Route matched with "{action = \"GetSalesReportByPeriod\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrabalhoFinal.Services.SaleReportDTO]] GetSalesReportByPeriod(System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T09:55:29.2313078-03:00 0HN425LOQ6RJ1:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
ORDER BY t.createat DESC" (0723d8ff)
2024-06-01T09:55:29.2317841-03:00 0HN425LOQ6RJ1:00000004 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TrabalhoFinal.Services.SaleReportDTO, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T09:55:29.2319632-03:00 0HN425LOQ6RJ1:00000004 [INF] Executed action "ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)" in 2.9578ms (afa2e885)
2024-06-01T09:55:29.2319991-03:00 0HN425LOQ6RJ1:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.GetSalesReportByPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T09:55:29.2320937-03:00 0HN425LOQ6RJ1:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/report""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-01%2010%3A00%3A00" - 200 null "application/json; charset=utf-8" 3.7354ms (74253ad3)
2024-06-01T10:12:48.3780444-03:00 0HN425LOQ6RJ2:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Products""" - "application/json" 161 (d509f86a)
2024-06-01T10:12:48.3782128-03:00 0HN425LOQ6RJ2:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T10:12:48.3803719-03:00 0HN425LOQ6RJ2:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbProduct] Post(ApiWebDB.DTO.ProductDTO)" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:12:48.4059454-03:00 0HN425LOQ6RJ2:00000001 [INF] Executed action "ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)" in 25.4862ms (afa2e885)
2024-06-01T10:12:48.4061033-03:00 0HN425LOQ6RJ2:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T10:12:48.4071003-03:00 0HN425LOQ6RJ2:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.InvalidEntityException: Cdigo de barras  invlido.
   at ApiWebDB.Services.Validate.ProductValidator.Validate(TbProduct product) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/Validate/ProductValidator.cs:line 36
   at TrabalhoFinal.Services.ProductService.Insert(ProductDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/ProductService.cs:line 66
   at ApiWebDB.Controllers.ProductsController.Post(ProductDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/ProductsController.cs:line 77
   at lambda_method303(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T10:12:48.4084001-03:00 0HN425LOQ6RJ2:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Products""" - 500 null "text/plain; charset=utf-8" 30.3327ms (74253ad3)
2024-06-01T10:13:06.3321618-03:00 0HN425LOQ6RJ2:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Products""" - "application/json" 158 (d509f86a)
2024-06-01T10:13:06.3323191-03:00 0HN425LOQ6RJ2:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T10:13:06.3324126-03:00 0HN425LOQ6RJ2:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbProduct] Post(ApiWebDB.DTO.ProductDTO)" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:13:06.6495544-03:00 0HN425LOQ6RJ2:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_products (barcode, barcodetype, costprice, description, price, stock)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T10:13:06.6831413-03:00 0HN425LOQ6RJ2:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p0, @p1, @p2)
RETURNING id;" (0723d8ff)
2024-06-01T10:13:06.6918624-03:00 0HN425LOQ6RJ2:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbProduct"'. (605b4265)
2024-06-01T10:13:06.6925349-03:00 0HN425LOQ6RJ2:00000002 [INF] Executed action "ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)" in 360.0133ms (afa2e885)
2024-06-01T10:13:06.6925903-03:00 0HN425LOQ6RJ2:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T10:13:06.6926901-03:00 0HN425LOQ6RJ2:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Products""" - 201 null "application/json; charset=utf-8" 360.541ms (74253ad3)
2024-06-01T10:13:14.5301782-03:00 0HN425LOQ6RJ2:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Products""" - "application/json" 159 (d509f86a)
2024-06-01T10:13:14.5303058-03:00 0HN425LOQ6RJ2:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T10:13:14.5306662-03:00 0HN425LOQ6RJ2:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbProduct] Post(ApiWebDB.DTO.ProductDTO)" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:13:14.5334271-03:00 0HN425LOQ6RJ2:00000003 [INF] Executed action "ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)" in 2.6771ms (afa2e885)
2024-06-01T10:13:14.5336525-03:00 0HN425LOQ6RJ2:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T10:13:14.5368768-03:00 0HN425LOQ6RJ2:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.InvalidEntityException: Cdigo de barras  invlido.
   at ApiWebDB.Services.Validate.ProductValidator.Validate(TbProduct product) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/Validate/ProductValidator.cs:line 46
   at TrabalhoFinal.Services.ProductService.Insert(ProductDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/ProductService.cs:line 66
   at ApiWebDB.Controllers.ProductsController.Post(ProductDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/ProductsController.cs:line 77
   at lambda_method303(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T10:13:14.5393689-03:00 0HN425LOQ6RJ2:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Products""" - 500 null "text/plain; charset=utf-8" 9.1971ms (74253ad3)
2024-06-01T10:20:08.1299525-03:00 0HN425LOQ6RJ3:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-05-01%2012%3A27%3A00" - null null (d509f86a)
2024-06-01T10:20:08.1301017-03:00 0HN425LOQ6RJ3:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T10:20:08.1301935-03:00 0HN425LOQ6RJ3:00000001 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:20:08.4520698-03:00 0HN425LOQ6RJ3:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T10:20:08.4525212-03:00 0HN425LOQ6RJ3:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T10:20:08.4527148-03:00 0HN425LOQ6RJ3:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 322.4577ms (afa2e885)
2024-06-01T10:20:08.4527466-03:00 0HN425LOQ6RJ3:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T10:20:08.4528528-03:00 0HN425LOQ6RJ3:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-05-01%2012%3A27%3A00" - 200 null "application/json; charset=utf-8" 322.8872ms (74253ad3)
2024-06-01T10:22:39.6683150-03:00 0HN425LOQ6RJ4:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-30%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T10:22:39.6686281-03:00 0HN425LOQ6RJ4:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T10:22:39.6687328-03:00 0HN425LOQ6RJ4:00000001 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:22:39.6732051-03:00 0HN425LOQ6RJ4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T10:22:39.6739149-03:00 0HN425LOQ6RJ4:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T10:22:39.6773565-03:00 0HN425LOQ6RJ4:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 8.5527ms (afa2e885)
2024-06-01T10:22:39.6778637-03:00 0HN425LOQ6RJ4:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T10:22:39.6788606-03:00 0HN425LOQ6RJ4:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-05-01%2012%3A27%3A00&endDate=2024-06-30%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 10.5332ms (74253ad3)
2024-06-01T10:23:09.5058595-03:00 0HN425LOQ6RJ4:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T10:23:09.5060315-03:00 0HN425LOQ6RJ4:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T10:23:09.5061240-03:00 0HN425LOQ6RJ4:00000002 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:23:09.5094173-03:00 0HN425LOQ6RJ4:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T10:23:09.5108199-03:00 0HN425LOQ6RJ4:00000002 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T10:23:09.5109915-03:00 0HN425LOQ6RJ4:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 4.8154ms (afa2e885)
2024-06-01T10:23:09.5110243-03:00 0HN425LOQ6RJ4:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T10:23:09.5111158-03:00 0HN425LOQ6RJ4:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/1/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 5.268ms (74253ad3)
2024-06-01T10:24:06.4308142-03:00 0HN425LOQ6RJ4:00000003 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T10:24:06.4314927-03:00 0HN425LOQ6RJ4:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T10:24:06.4316102-03:00 0HN425LOQ6RJ4:00000003 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:24:06.4347452-03:00 0HN425LOQ6RJ4:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T10:24:06.4354531-03:00 0HN425LOQ6RJ4:00000003 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T10:24:06.4356886-03:00 0HN425LOQ6RJ4:00000003 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 4.0275ms (afa2e885)
2024-06-01T10:24:06.4357225-03:00 0HN425LOQ6RJ4:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T10:24:06.4373234-03:00 0HN425LOQ6RJ4:00000003 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 6.5044ms (74253ad3)
2024-06-01T10:24:14.4582769-03:00 0HN425LOQ6RJ4:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-05-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T10:24:14.4585379-03:00 0HN425LOQ6RJ4:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T10:24:14.4586996-03:00 0HN425LOQ6RJ4:00000004 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:24:14.4624941-03:00 0HN425LOQ6RJ4:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T10:24:14.4630452-03:00 0HN425LOQ6RJ4:00000004 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T10:24:14.4632616-03:00 0HN425LOQ6RJ4:00000004 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 4.5094ms (afa2e885)
2024-06-01T10:24:14.4633078-03:00 0HN425LOQ6RJ4:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T10:24:14.4655267-03:00 0HN425LOQ6RJ4:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-05-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 6.5338ms (74253ad3)
2024-06-01T10:25:26.3359008-03:00 0HN425LOQ6RJ4:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T10:25:26.3360598-03:00 0HN425LOQ6RJ4:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T10:25:26.3361530-03:00 0HN425LOQ6RJ4:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T10:25:26.6067904-03:00 0HN425LOQ6RJ4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T10:25:26.6074646-03:00 0HN425LOQ6RJ4:00000005 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T10:25:26.6076788-03:00 0HN425LOQ6RJ4:00000005 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 271.4775ms (afa2e885)
2024-06-01T10:25:26.6077125-03:00 0HN425LOQ6RJ4:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T10:25:26.6077995-03:00 0HN425LOQ6RJ4:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 271.9039ms (74253ad3)
2024-06-01T11:21:05.7437706-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T11:21:21.2531270-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T11:21:21.3233305-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T11:21:21.3250424-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T11:21:21.3251532-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T11:22:04.0371246-03:00 0HN428OQR2PD7:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - null null (d509f86a)
2024-06-01T11:22:04.3522252-03:00 0HN428OQR2PD7:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 318.1873ms (74253ad3)
2024-06-01T11:22:04.5608782-03:00 0HN428OQR2PD7:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2024-06-01T11:22:04.5951929-03:00 0HN428OQR2PD7:00000002 [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2024-06-01T11:22:04.5957810-03:00 0HN428OQR2PD7:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 34.9132ms (74253ad3)
2024-06-01T11:22:04.6197097-03:00 0HN428OQR2PD8:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-01T11:22:04.8059346-03:00 0HN428OQR2PD8:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 186.1791ms (74253ad3)
2024-06-01T11:22:26.5809700-03:00 0HN428OQR2PD8:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products""" - null null (d509f86a)
2024-06-01T11:22:26.5936901-03:00 0HN428OQR2PD8:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T11:22:26.6159778-03:00 0HN428OQR2PD8:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbProduct]] Get()" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:22:28.4320010-03:00 0HN428OQR2PD8:00000002 [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t" (0723d8ff)
2024-06-01T11:22:28.5890470-03:00 0HN428OQR2PD8:00000002 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbProduct, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T11:22:28.6324088-03:00 0HN428OQR2PD8:00000002 [INF] Executed action "ApiWebDB.Controllers.ProductsController.Get (Trabalho Final)" in 2010.3042ms (afa2e885)
2024-06-01T11:22:28.6325527-03:00 0HN428OQR2PD8:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T11:22:28.6472529-03:00 0HN428OQR2PD8:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products""" - 200 null "application/json; charset=utf-8" 2066.2144ms (74253ad3)
2024-06-01T11:22:40.4120939-03:00 0HN428OQR2PD8:00000003 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products/2""" - null null (d509f86a)
2024-06-01T11:22:40.4150871-03:00 0HN428OQR2PD8:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.Get (Trabalho Final)"' (500cc934)
2024-06-01T11:22:40.4261108-03:00 0HN428OQR2PD8:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbProduct] Get(Int32)" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:22:40.6136978-03:00 0HN428OQR2PD8:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:22:40.6151615-03:00 0HN428OQR2PD8:00000003 [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbProduct"'. (605b4265)
2024-06-01T11:22:40.6158099-03:00 0HN428OQR2PD8:00000003 [INF] Executed action "ApiWebDB.Controllers.ProductsController.Get (Trabalho Final)" in 189.5467ms (afa2e885)
2024-06-01T11:22:40.6158795-03:00 0HN428OQR2PD8:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T11:22:40.6162655-03:00 0HN428OQR2PD8:00000003 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products/2""" - 200 null "application/json; charset=utf-8" 204.1468ms (74253ad3)
2024-06-01T11:24:25.7872749-03:00 0HN428OQR2PD8:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T11:24:25.7877802-03:00 0HN428OQR2PD8:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T11:24:25.7925649-03:00 0HN428OQR2PD8:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:24:25.9684699-03:00 0HN428OQR2PD8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T11:24:26.0291496-03:00 0HN428OQR2PD8:00000004 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T11:24:26.0340603-03:00 0HN428OQR2PD8:00000004 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 240.5311ms (afa2e885)
2024-06-01T11:24:26.0341841-03:00 0HN428OQR2PD8:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T11:24:26.0344432-03:00 0HN428OQR2PD8:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 247.1601ms (74253ad3)
2024-06-01T11:24:33.2042352-03:00 0HN428OQR2PD9:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T11:24:33.2050430-03:00 0HN428OQR2PD9:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T11:24:33.2052300-03:00 0HN428OQR2PD9:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:24:33.2122999-03:00 0HN428OQR2PD9:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T11:24:33.2139435-03:00 0HN428OQR2PD9:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T11:24:33.2145416-03:00 0HN428OQR2PD9:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 9.2206ms (afa2e885)
2024-06-01T11:24:33.2146108-03:00 0HN428OQR2PD9:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T11:24:33.2153295-03:00 0HN428OQR2PD9:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 11.1144ms (74253ad3)
2024-06-01T11:26:06.2518731-03:00 0HN428OQR2PD9:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 131 (d509f86a)
2024-06-01T11:26:06.2520520-03:00 0HN428OQR2PD9:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:26:06.2543649-03:00 0HN428OQR2PD9:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:26:06.2955915-03:00 0HN428OQR2PD9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:26:06.3313897-03:00 0HN428OQR2PD9:00000002 [ERR] Failed executing DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T11:26:06.3582066-03:00 0HN428OQR2PD9:00000002 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T11:26:06.3596584-03:00 0HN428OQR2PD9:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 105.1961ms (afa2e885)
2024-06-01T11:26:06.3611108-03:00 0HN428OQR2PD9:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:26:06.3748319-03:00 0HN428OQR2PD9:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method117(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T11:26:06.3822106-03:00 0HN428OQR2PD9:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 130.1844ms (74253ad3)
2024-06-01T11:40:20.6925329-03:00 0HN428OQR2PDA:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 131 (d509f86a)
2024-06-01T11:40:20.6927033-03:00 0HN428OQR2PDA:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:40:20.6928096-03:00 0HN428OQR2PDA:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:40:20.9680347-03:00 0HN428OQR2PDA:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:40:20.9694978-03:00 0HN428OQR2PDA:00000001 [ERR] Failed executing DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T11:40:20.9713201-03:00 0HN428OQR2PDA:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T11:40:20.9718985-03:00 0HN428OQR2PDA:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 279.0116ms (afa2e885)
2024-06-01T11:40:20.9720806-03:00 0HN428OQR2PDA:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:40:20.9735335-03:00 0HN428OQR2PDA:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method117(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T11:40:20.9759712-03:00 0HN428OQR2PDA:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 283.4046ms (74253ad3)
2024-06-01T11:40:43.3451607-03:00 0HN428OQR2PDA:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 97 (d509f86a)
2024-06-01T11:40:43.3454520-03:00 0HN428OQR2PDA:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:40:43.3456036-03:00 0HN428OQR2PDA:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:40:43.3489703-03:00 0HN428OQR2PDA:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:40:43.3507911-03:00 0HN428OQR2PDA:00000002 [ERR] Failed executing DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T11:40:43.3540548-03:00 0HN428OQR2PDA:00000002 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T11:40:43.3547069-03:00 0HN428OQR2PDA:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 9.0223ms (afa2e885)
2024-06-01T11:40:43.3549108-03:00 0HN428OQR2PDA:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:40:43.3680617-03:00 0HN428OQR2PDA:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method117(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T11:40:43.3746289-03:00 0HN428OQR2PDA:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 29.5426ms (74253ad3)
2024-06-01T11:41:11.9031216-03:00 0HN428OQR2PDA:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T11:41:11.9033998-03:00 0HN428OQR2PDA:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:41:11.9036616-03:00 0HN428OQR2PDA:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:41:11.9306754-03:00 0HN428OQR2PDA:00000003 [INF] Executed DbCommand ("23"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:41:11.9321495-03:00 0HN428OQR2PDA:00000003 [ERR] Failed executing DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T11:41:11.9339444-03:00 0HN428OQR2PDA:00000003 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method117(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
2024-06-01T11:41:11.9350744-03:00 0HN428OQR2PDA:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 30.7616ms (afa2e885)
2024-06-01T11:41:11.9353036-03:00 0HN428OQR2PDA:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:41:11.9399885-03:00 0HN428OQR2PDA:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method117(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T11:41:11.9518574-03:00 0HN428OQR2PDA:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 48.7321ms (74253ad3)
2024-06-01T11:41:30.1426739-03:00 0HN428OQR2PDA:00000004 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T11:41:30.1428813-03:00 0HN428OQR2PDA:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:41:30.1429905-03:00 0HN428OQR2PDA:00000004 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:41:30.1523704-03:00 0HN428OQR2PDA:00000004 [INF] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'. (605b4265)
2024-06-01T11:41:30.1747361-03:00 0HN428OQR2PDA:00000004 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 31.6761ms (afa2e885)
2024-06-01T11:41:30.1748623-03:00 0HN428OQR2PDA:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:41:30.1749940-03:00 0HN428OQR2PDA:00000004 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 400 null "application/problem+json; charset=utf-8" 32.3306ms (74253ad3)
2024-06-01T11:41:44.6830863-03:00 0HN428OQR2PDA:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T11:41:44.6833242-03:00 0HN428OQR2PDA:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T11:41:44.6834518-03:00 0HN428OQR2PDA:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:41:44.6878520-03:00 0HN428OQR2PDA:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T11:41:44.6885206-03:00 0HN428OQR2PDA:00000005 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T11:41:44.6887706-03:00 0HN428OQR2PDA:00000005 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 5.2573ms (afa2e885)
2024-06-01T11:41:44.6888242-03:00 0HN428OQR2PDA:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T11:41:44.6893605-03:00 0HN428OQR2PDA:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 6.2654ms (74253ad3)
2024-06-01T11:41:55.7825069-03:00 0HN428OQR2PDA:00000006 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T11:41:55.7829030-03:00 0HN428OQR2PDA:00000006 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:41:55.7831316-03:00 0HN428OQR2PDA:00000006 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:41:55.7844156-03:00 0HN428OQR2PDA:00000006 [INF] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'. (605b4265)
2024-06-01T11:41:55.7846347-03:00 0HN428OQR2PDA:00000006 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 1.4449ms (afa2e885)
2024-06-01T11:41:55.7847545-03:00 0HN428OQR2PDA:00000006 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:41:55.7849232-03:00 0HN428OQR2PDA:00000006 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 400 null "application/problem+json; charset=utf-8" 2.4364ms (74253ad3)
2024-06-01T11:42:57.8404690-03:00 0HN428OQR2PDA:00000007 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 135 (d509f86a)
2024-06-01T11:42:57.8406871-03:00 0HN428OQR2PDA:00000007 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:42:57.8407929-03:00 0HN428OQR2PDA:00000007 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:42:57.8436983-03:00 0HN428OQR2PDA:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:42:57.8461653-03:00 0HN428OQR2PDA:00000007 [ERR] Failed executing DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T11:42:57.8482100-03:00 0HN428OQR2PDA:00000007 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T11:42:57.8497440-03:00 0HN428OQR2PDA:00000007 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 8.8838ms (afa2e885)
2024-06-01T11:42:57.8499900-03:00 0HN428OQR2PDA:00000007 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:42:57.8513901-03:00 0HN428OQR2PDA:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method117(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T11:42:57.8541050-03:00 0HN428OQR2PDA:00000007 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 13.6308ms (74253ad3)
2024-06-01T11:50:20.3172731-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T11:50:34.4461710-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T11:50:34.5216931-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T11:50:34.5266219-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T11:50:34.5271375-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T11:50:53.6574669-03:00 0HN4298UA3509:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 135 (d509f86a)
2024-06-01T11:50:53.7249263-03:00 0HN4298UA3509:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T11:50:53.7560377-03:00 0HN4298UA3509:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T11:50:55.9389990-03:00 0HN4298UA3509:00000001 [INF] Executed DbCommand ("78"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T11:50:56.1717876-03:00 0HN4298UA3509:00000001 [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T11:50:56.2061397-03:00 0HN4298UA3509:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T11:50:56.2174954-03:00 0HN4298UA3509:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2452.4012ms (afa2e885)
2024-06-01T11:50:56.2209090-03:00 0HN4298UA3509:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T11:50:56.2380521-03:00 0HN4298UA3509:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T11:50:56.2725221-03:00 0HN4298UA3509:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 2616.8797ms (74253ad3)
2024-06-01T12:29:27.1234153-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:29:41.5605553-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:29:41.6444296-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:29:41.6542122-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:29:41.6547976-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:30:33.5685817-03:00 0HN429V3IMP24:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 135 (d509f86a)
2024-06-01T12:30:33.6404597-03:00 0HN429V3IMP24:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:30:33.6678736-03:00 0HN429V3IMP24:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:30:35.7896995-03:00 0HN429V3IMP24:00000001 [INF] Executed DbCommand ("72"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:30:36.0212521-03:00 0HN429V3IMP24:00000001 [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T12:30:36.0538993-03:00 0HN429V3IMP24:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T12:30:36.0639353-03:00 0HN429V3IMP24:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2388.5894ms (afa2e885)
2024-06-01T12:30:36.0649198-03:00 0HN429V3IMP24:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:30:36.0780679-03:00 0HN429V3IMP24:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T12:30:36.1100805-03:00 0HN429V3IMP24:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 2544.2667ms (74253ad3)
2024-06-01T12:31:01.9799198-03:00 0HN429V3IMP24:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 135 (d509f86a)
2024-06-01T12:31:01.9854579-03:00 0HN429V3IMP24:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:31:01.9859462-03:00 0HN429V3IMP24:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:31:02.0344218-03:00 0HN429V3IMP24:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:31:02.0372412-03:00 0HN429V3IMP24:00000002 [ERR] Failed executing DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T12:31:02.0413929-03:00 0HN429V3IMP24:00000002 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
2024-06-01T12:31:02.0420109-03:00 0HN429V3IMP24:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 55.8773ms (afa2e885)
2024-06-01T12:31:02.0421637-03:00 0HN429V3IMP24:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:31:02.0439627-03:00 0HN429V3IMP24:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T12:31:02.0489511-03:00 0HN429V3IMP24:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 67.8426ms (74253ad3)
2024-06-01T12:34:01.9437327-03:00 0HN429V3IMP25:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:34:01.9456266-03:00 0HN429V3IMP25:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:34:01.9457615-03:00 0HN429V3IMP25:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:34:02.0310633-03:00 0HN429V3IMP25:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:34:02.0330376-03:00 0HN429V3IMP25:00000001 [ERR] Failed executing DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T12:34:02.0348312-03:00 0HN429V3IMP25:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T12:34:02.0352612-03:00 0HN429V3IMP25:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 89.405ms (afa2e885)
2024-06-01T12:34:02.0353877-03:00 0HN429V3IMP25:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:34:02.0367473-03:00 0HN429V3IMP25:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T12:34:02.0384199-03:00 0HN429V3IMP25:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 94.6591ms (74253ad3)
2024-06-01T12:35:07.8930704-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:35:20.6688677-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:35:20.7449200-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:35:20.7496071-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:35:20.7497796-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:35:34.3763454-03:00 0HN42A1T7EGKK:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:35:34.4453670-03:00 0HN42A1T7EGKK:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:35:34.4750487-03:00 0HN42A1T7EGKK:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:35:36.6142846-03:00 0HN42A1T7EGKK:00000001 [INF] Executed DbCommand ("72"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:35:36.8411182-03:00 0HN42A1T7EGKK:00000001 [ERR] Failed executing DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T12:35:36.8754532-03:00 0HN42A1T7EGKK:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T12:35:36.8842224-03:00 0HN42A1T7EGKK:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2402.716ms (afa2e885)
2024-06-01T12:35:36.8852989-03:00 0HN42A1T7EGKK:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:35:36.8997284-03:00 0HN42A1T7EGKK:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T12:35:36.9299423-03:00 0HN42A1T7EGKK:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 2555.2043ms (74253ad3)
2024-06-01T12:40:01.7869895-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:40:08.1849270-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:40:08.2485417-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:40:08.2503812-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:40:08.2505237-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:40:12.1909059-03:00 0HN42A4G0T0LC:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:40:12.2573830-03:00 0HN42A4G0T0LC:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:40:12.2840942-03:00 0HN42A4G0T0LC:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:40:14.4036201-03:00 0HN42A4G0T0LC:00000001 [INF] Executed DbCommand ("70"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:40:14.6281118-03:00 0HN42A4G0T0LC:00000001 [ERR] Failed executing DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (627a98df)
2024-06-01T12:40:14.6608576-03:00 0HN42A4G0T0LC:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Trabalho_Final.BaseDados.TfDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()" (f5c7ac34)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-06-01T12:40:14.6699253-03:00 0HN42A4G0T0LC:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2378.2015ms (afa2e885)
2024-06-01T12:40:14.6711516-03:00 0HN42A4G0T0LC:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:40:14.6878153-03:00 0HN42A4G0T0LC:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TrabalhoFinal.Services.PromotionService.GetPromotionsByProductAndPeriod(Int32 productId, DateTime startDate, DateTime endDate) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/PromotionService.cs:line 38
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 53
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T12:40:14.7187624-03:00 0HN42A4G0T0LC:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 2529.6909ms (74253ad3)
2024-06-01T12:48:03.9298920-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:48:16.1624988-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:48:16.2241372-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:48:16.2260841-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:48:16.2263493-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:48:25.8314757-03:00 0HN42A934KCGJ:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:48:25.8951390-03:00 0HN42A934KCGJ:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:48:25.9229923-03:00 0HN42A934KCGJ:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:48:28.0598740-03:00 0HN42A934KCGJ:00000001 [INF] Executed DbCommand ("74"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:48:28.2982475-03:00 0HN42A934KCGJ:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:48:28.5121296-03:00 0HN42A934KCGJ:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:48:28.5992541-03:00 0HN42A934KCGJ:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:48:28.6175504-03:00 0HN42A934KCGJ:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:48:28.7083389-03:00 0HN42A934KCGJ:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2781.0257ms (afa2e885)
2024-06-01T12:48:28.7084581-03:00 0HN42A934KCGJ:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:48:28.7237293-03:00 0HN42A934KCGJ:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 2893.5164ms (74253ad3)
2024-06-01T12:48:51.9639503-03:00 0HN42A934KCGJ:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:48:51.9684415-03:00 0HN42A934KCGJ:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:48:51.9694118-03:00 0HN42A934KCGJ:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:48:52.0022253-03:00 0HN42A934KCGJ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:48:52.0060932-03:00 0HN42A934KCGJ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:48:52.0111752-03:00 0HN42A934KCGJ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:48:52.0158642-03:00 0HN42A934KCGJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:48:52.0182804-03:00 0HN42A934KCGJ:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:48:52.0207515-03:00 0HN42A934KCGJ:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 51.1275ms (afa2e885)
2024-06-01T12:48:52.0217137-03:00 0HN42A934KCGJ:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:48:52.0232076-03:00 0HN42A934KCGJ:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 59.2666ms (74253ad3)
2024-06-01T12:49:45.4498682-03:00 0HN42A934KCGJ:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:49:45.4535360-03:00 0HN42A934KCGJ:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:49:45.4537187-03:00 0HN42A934KCGJ:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:49:45.5492832-03:00 0HN42A934KCGJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:49:45.5518774-03:00 0HN42A934KCGJ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:49:45.5562952-03:00 0HN42A934KCGJ:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:49:45.5622565-03:00 0HN42A934KCGJ:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:49:45.5638357-03:00 0HN42A934KCGJ:00000003 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:49:45.5652693-03:00 0HN42A934KCGJ:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 111.4565ms (afa2e885)
2024-06-01T12:49:45.5659679-03:00 0HN42A934KCGJ:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:49:45.5667795-03:00 0HN42A934KCGJ:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 116.8746ms (74253ad3)
2024-06-01T12:50:24.6117514-03:00 0HN42A934KCGJ:00000004 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:50:24.6120072-03:00 0HN42A934KCGJ:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:50:24.6121390-03:00 0HN42A934KCGJ:00000004 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:50:24.6162966-03:00 0HN42A934KCGJ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:50:24.6223961-03:00 0HN42A934KCGJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:50:24.6279843-03:00 0HN42A934KCGJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:50:24.6348965-03:00 0HN42A934KCGJ:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:50:24.6362507-03:00 0HN42A934KCGJ:00000004 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:50:24.6416084-03:00 0HN42A934KCGJ:00000004 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 29.3789ms (afa2e885)
2024-06-01T12:50:24.6424689-03:00 0HN42A934KCGJ:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:50:24.6430966-03:00 0HN42A934KCGJ:00000004 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 31.3244ms (74253ad3)
2024-06-01T12:50:36.0113080-03:00 0HN42A934KCGJ:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - null null (d509f86a)
2024-06-01T12:50:36.0159042-03:00 0HN42A934KCGJ:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T12:50:36.0207585-03:00 0HN42A934KCGJ:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.DTO.SaleDTO]] Get()" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:50:36.0353943-03:00 0HN42A934KCGJ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id" (0723d8ff)
2024-06-01T12:50:36.0442009-03:00 0HN42A934KCGJ:00000005 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T12:50:36.0475526-03:00 0HN42A934KCGJ:00000005 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 26.6376ms (afa2e885)
2024-06-01T12:50:36.0477036-03:00 0HN42A934KCGJ:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T12:50:36.0479660-03:00 0HN42A934KCGJ:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales""" - 200 null "application/json; charset=utf-8" 36.5759ms (74253ad3)
2024-06-01T12:51:09.4855376-03:00 0HN42A934KCGK:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - null null (d509f86a)
2024-06-01T12:51:09.5549688-03:00 0HN42A934KCGK:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 69.3724ms (74253ad3)
2024-06-01T12:51:09.7184080-03:00 0HN42A934KCGK:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2024-06-01T12:51:09.7298221-03:00 0HN42A934KCGK:00000002 [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2024-06-01T12:51:09.7302019-03:00 0HN42A934KCGK:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 11.6174ms (74253ad3)
2024-06-01T12:51:09.7794405-03:00 0HN42A934KCGL:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-01T12:51:09.9329521-03:00 0HN42A934KCGL:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 153.5394ms (74253ad3)
2024-06-01T12:51:46.2215669-03:00 0HN42A934KCGL:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 145 (d509f86a)
2024-06-01T12:51:46.2218199-03:00 0HN42A934KCGL:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:51:46.2260319-03:00 0HN42A934KCGL:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:51:46.2611123-03:00 0HN42A934KCGL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:51:46.2644573-03:00 0HN42A934KCGL:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T12:51:46.2668560-03:00 0HN42A934KCGL:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 40.1925ms (afa2e885)
2024-06-01T12:51:46.2669438-03:00 0HN42A934KCGL:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:51:46.2672941-03:00 0HN42A934KCGL:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 201 null "application/json; charset=utf-8" 45.5689ms (74253ad3)
2024-06-01T12:52:14.0707192-03:00 0HN42A934KCGJ:00000006 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:52:14.0709442-03:00 0HN42A934KCGJ:00000006 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:52:14.0710775-03:00 0HN42A934KCGJ:00000006 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:52:14.0734465-03:00 0HN42A934KCGJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:52:14.0755625-03:00 0HN42A934KCGJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:52:14.0780419-03:00 0HN42A934KCGJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:52:14.0833877-03:00 0HN42A934KCGJ:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:52:14.0838319-03:00 0HN42A934KCGJ:00000006 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:52:14.0843572-03:00 0HN42A934KCGJ:00000006 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 13.2152ms (afa2e885)
2024-06-01T12:52:14.0844136-03:00 0HN42A934KCGJ:00000006 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:52:14.0845943-03:00 0HN42A934KCGJ:00000006 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 13.8606ms (74253ad3)
2024-06-01T12:53:44.3137300-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:54:00.1660235-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:54:00.2273332-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:54:00.2290197-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:54:00.2292579-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:54:08.7189759-03:00 0HN42AC9AJDCE:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:54:08.7977014-03:00 0HN42AC9AJDCE:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:54:08.8299577-03:00 0HN42AC9AJDCE:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:54:11.2341643-03:00 0HN42AC9AJDCE:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:54:11.4648742-03:00 0HN42AC9AJDCE:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:54:11.6799977-03:00 0HN42AC9AJDCE:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:54:11.7679982-03:00 0HN42AC9AJDCE:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:54:11.7889333-03:00 0HN42AC9AJDCE:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:54:11.8802687-03:00 0HN42AC9AJDCE:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 3046.1136ms (afa2e885)
2024-06-01T12:54:11.8803927-03:00 0HN42AC9AJDCE:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:54:11.8965393-03:00 0HN42AC9AJDCE:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3180.3599ms (74253ad3)
2024-06-01T12:54:53.0655199-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:55:04.7792213-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:55:04.8427288-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:55:04.8504791-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:55:04.8506072-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:55:22.3210263-03:00 0HN42ACV8I8F8:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:55:22.3891829-03:00 0HN42ACV8I8F8:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:55:22.4164383-03:00 0HN42ACV8I8F8:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:55:24.5331124-03:00 0HN42ACV8I8F8:00000001 [INF] Executed DbCommand ("83"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:55:24.7603088-03:00 0HN42ACV8I8F8:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:55:24.9828338-03:00 0HN42ACV8I8F8:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:55:25.0630596-03:00 0HN42ACV8I8F8:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:55:25.0823144-03:00 0HN42ACV8I8F8:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:55:25.1716015-03:00 0HN42ACV8I8F8:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2749.2805ms (afa2e885)
2024-06-01T12:55:25.1717471-03:00 0HN42ACV8I8F8:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:55:25.1860751-03:00 0HN42ACV8I8F8:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 2867.6041ms (74253ad3)
2024-06-01T12:56:31.2857781-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:56:42.1982129-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:56:42.2765626-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:56:42.2823640-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:56:42.2829765-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:56:48.2403397-03:00 0HN42ADORT30S:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:56:48.3087702-03:00 0HN42ADORT30S:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:56:48.3472254-03:00 0HN42ADORT30S:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:56:50.7774825-03:00 0HN42ADORT30S:00000001 [INF] Executed DbCommand ("77"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:56:50.9946821-03:00 0HN42ADORT30S:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:56:51.1950426-03:00 0HN42ADORT30S:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:56:51.2738704-03:00 0HN42ADORT30S:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:56:51.2930526-03:00 0HN42ADORT30S:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:56:51.3819918-03:00 0HN42ADORT30S:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 3029.6471ms (afa2e885)
2024-06-01T12:56:51.3821277-03:00 0HN42ADORT30S:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:56:51.3984372-03:00 0HN42ADORT30S:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3160.8886ms (74253ad3)
2024-06-01T12:58:17.8084532-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:58:28.2034089-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:58:28.2634577-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:58:28.2650583-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:58:28.2652483-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T12:58:32.2252990-03:00 0HN42AENRJKQP:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T12:58:32.2955343-03:00 0HN42AENRJKQP:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T12:58:32.3225927-03:00 0HN42AENRJKQP:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T12:58:34.5858298-03:00 0HN42AENRJKQP:00000001 [INF] Executed DbCommand ("69"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T12:58:34.8599429-03:00 0HN42AENRJKQP:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T12:58:35.0885271-03:00 0HN42AENRJKQP:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T12:58:35.1630659-03:00 0HN42AENRJKQP:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T12:58:35.1835235-03:00 0HN42AENRJKQP:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T12:58:35.2721246-03:00 0HN42AENRJKQP:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2944.6318ms (afa2e885)
2024-06-01T12:58:35.2722909-03:00 0HN42AENRJKQP:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T12:58:35.2874687-03:00 0HN42AENRJKQP:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3064.452ms (74253ad3)
2024-06-01T12:59:40.8504835-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T12:59:50.8235907-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T12:59:50.8898861-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T12:59:50.8917605-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T12:59:50.8920473-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:00:00.9709878-03:00 0HN42AFI9VEFL:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:00:01.0576231-03:00 0HN42AFI9VEFL:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:00:01.0938641-03:00 0HN42AFI9VEFL:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:00:03.5021269-03:00 0HN42AFI9VEFL:00000001 [INF] Executed DbCommand ("87"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:00:03.7359863-03:00 0HN42AFI9VEFL:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:00:03.9589559-03:00 0HN42AFI9VEFL:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:00:04.0331320-03:00 0HN42AFI9VEFL:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:00:04.0509529-03:00 0HN42AFI9VEFL:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:00:04.1377695-03:00 0HN42AFI9VEFL:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 3039.0971ms (afa2e885)
2024-06-01T13:00:04.1379037-03:00 0HN42AFI9VEFL:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:00:04.1546859-03:00 0HN42AFI9VEFL:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3185.1023ms (74253ad3)
2024-06-01T13:00:45.0569485-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:00:57.0770510-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:00:57.1472122-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:00:57.1487299-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:00:57.1488930-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:01:05.5592704-03:00 0HN42AG5HSFEU:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:01:05.6409678-03:00 0HN42AG5HSFEU:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:01:05.6719036-03:00 0HN42AG5HSFEU:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:01:07.9402080-03:00 0HN42AG5HSFEU:00000001 [INF] Executed DbCommand ("80"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:01:08.1750147-03:00 0HN42AG5HSFEU:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:01:08.3732051-03:00 0HN42AG5HSFEU:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:01:08.4443164-03:00 0HN42AG5HSFEU:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:01:08.4617913-03:00 0HN42AG5HSFEU:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:01:08.5458404-03:00 0HN42AG5HSFEU:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2869.8268ms (afa2e885)
2024-06-01T13:01:08.5459813-03:00 0HN42AG5HSFEU:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:01:08.5605151-03:00 0HN42AG5HSFEU:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3002.9182ms (74253ad3)
2024-06-01T13:02:58.1858616-03:00 0HN42AG5HSFEU:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:02:58.1887849-03:00 0HN42AG5HSFEU:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:02:58.1891195-03:00 0HN42AG5HSFEU:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:02:58.2209464-03:00 0HN42AG5HSFEU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:02:58.2235993-03:00 0HN42AG5HSFEU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:02:58.2294224-03:00 0HN42AG5HSFEU:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:02:58.2407072-03:00 0HN42AG5HSFEU:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:02:58.2423896-03:00 0HN42AG5HSFEU:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:02:58.2445508-03:00 0HN42AG5HSFEU:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 55.2809ms (afa2e885)
2024-06-01T13:02:58.2446881-03:00 0HN42AG5HSFEU:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:02:58.2454195-03:00 0HN42AG5HSFEU:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 59.7508ms (74253ad3)
2024-06-01T13:03:04.9373397-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:03:16.5595354-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:03:16.6289005-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:03:16.6309846-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:03:16.6311924-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:03:20.4713475-03:00 0HN42AHDOGL45:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:03:20.5401296-03:00 0HN42AHDOGL45:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:03:20.5718357-03:00 0HN42AHDOGL45:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:03:22.9259280-03:00 0HN42AHDOGL45:00000001 [INF] Executed DbCommand ("65"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:03:23.1353919-03:00 0HN42AHDOGL45:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:03:23.3320611-03:00 0HN42AHDOGL45:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:03:23.4069993-03:00 0HN42AHDOGL45:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:03:23.4261900-03:00 0HN42AHDOGL45:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:03:23.5124365-03:00 0HN42AHDOGL45:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2936.2256ms (afa2e885)
2024-06-01T13:03:23.5125476-03:00 0HN42AHDOGL45:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:03:23.5285656-03:00 0HN42AHDOGL45:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3058.9895ms (74253ad3)
2024-06-01T13:04:34.9009421-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:04:48.4577926-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:04:48.5181071-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:04:48.5224602-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:04:48.5227450-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:04:53.7361155-03:00 0HN42AI9HU308:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:04:53.8386482-03:00 0HN42AI9HU308:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:04:53.8740481-03:00 0HN42AI9HU308:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:04:56.1405283-03:00 0HN42AI9HU308:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:04:56.3584948-03:00 0HN42AI9HU308:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:04:56.5796699-03:00 0HN42AI9HU308:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:04:56.6575317-03:00 0HN42AI9HU308:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:04:56.6771235-03:00 0HN42AI9HU308:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:04:56.7616992-03:00 0HN42AI9HU308:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2881.9394ms (afa2e885)
2024-06-01T13:04:56.7618594-03:00 0HN42AI9HU308:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:04:56.7761396-03:00 0HN42AI9HU308:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3043.3205ms (74253ad3)
2024-06-01T13:05:41.4386660-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:06:45.0724843-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:06:45.1525991-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:06:45.1545107-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:06:45.1547465-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:06:50.0998554-03:00 0HN42AJC7M23N:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:06:50.1871723-03:00 0HN42AJC7M23N:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:06:50.2178411-03:00 0HN42AJC7M23N:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:06:52.4285051-03:00 0HN42AJC7M23N:00000001 [INF] Executed DbCommand ("70"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:06:52.6609891-03:00 0HN42AJC7M23N:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:06:52.8584408-03:00 0HN42AJC7M23N:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:06:52.9328149-03:00 0HN42AJC7M23N:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:06:52.9485284-03:00 0HN42AJC7M23N:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:06:53.0303609-03:00 0HN42AJC7M23N:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2807.956ms (afa2e885)
2024-06-01T13:06:53.0305482-03:00 0HN42AJC7M23N:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:06:53.0447408-03:00 0HN42AJC7M23N:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 2947.0668ms (74253ad3)
2024-06-01T13:10:54.8190580-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:12:00.3487241-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:12:00.4366005-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:12:00.4434746-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:12:00.4440820-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:12:42.8559289-03:00 0HN42AMLBRN30:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-05-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T13:12:42.9329120-03:00 0HN42AMLBRN30:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T13:12:42.9643300-03:00 0HN42AMLBRN30:00000001 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:12:45.1211500-03:00 0HN42AMLBRN30:00000001 [INF] Executed DbCommand ("78"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:12:45.2998240-03:00 0HN42AMLBRN30:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T13:12:45.4473432-03:00 0HN42AMLBRN30:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 2476.9042ms (afa2e885)
2024-06-01T13:12:45.4475097-03:00 0HN42AMLBRN30:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T13:12:45.4620715-03:00 0HN42AMLBRN30:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-05-01%2002%3A25%3A53&endDate=2024-06-30%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 2607.9805ms (74253ad3)
2024-06-01T13:31:15.8416461-03:00 0HN42AMLBRN31:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-01%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T13:31:15.8479079-03:00 0HN42AMLBRN31:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T13:31:15.8487232-03:00 0HN42AMLBRN31:00000001 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:31:16.2413858-03:00 0HN42AMLBRN31:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:31:16.2428946-03:00 0HN42AMLBRN31:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T13:31:16.2434417-03:00 0HN42AMLBRN31:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 394.5195ms (afa2e885)
2024-06-01T13:31:16.2434982-03:00 0HN42AMLBRN31:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T13:31:16.2441546-03:00 0HN42AMLBRN31:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-01%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 402.4514ms (74253ad3)
2024-06-01T13:32:01.3690237-03:00 0HN42AMLBRN31:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 145 (d509f86a)
2024-06-01T13:32:01.3710234-03:00 0HN42AMLBRN31:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:32:01.3769834-03:00 0HN42AMLBRN31:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:32:01.4208533-03:00 0HN42AMLBRN31:00000002 [INF] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'. (605b4265)
2024-06-01T13:32:01.4556066-03:00 0HN42AMLBRN31:00000002 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 78.4437ms (afa2e885)
2024-06-01T13:32:01.4557351-03:00 0HN42AMLBRN31:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:32:01.4559190-03:00 0HN42AMLBRN31:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 400 null "application/problem+json; charset=utf-8" 86.8881ms (74253ad3)
2024-06-01T13:32:18.7816236-03:00 0HN42AMLBRN31:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 145 (d509f86a)
2024-06-01T13:32:18.7819365-03:00 0HN42AMLBRN31:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:32:18.7822862-03:00 0HN42AMLBRN31:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:32:18.9929445-03:00 0HN42AMLBRN31:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:32:19.0230108-03:00 0HN42AMLBRN31:00000003 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T13:32:19.0491654-03:00 0HN42AMLBRN31:00000003 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 266.7223ms (afa2e885)
2024-06-01T13:32:19.0492550-03:00 0HN42AMLBRN31:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:32:19.0495731-03:00 0HN42AMLBRN31:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 201 null "application/json; charset=utf-8" 267.8737ms (74253ad3)
2024-06-01T13:32:34.0620600-03:00 0HN42AMLBRN31:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-01%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T13:32:34.0624860-03:00 0HN42AMLBRN31:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T13:32:34.0626113-03:00 0HN42AMLBRN31:00000004 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:32:34.0661893-03:00 0HN42AMLBRN31:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:32:34.0676084-03:00 0HN42AMLBRN31:00000004 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T13:32:34.0680467-03:00 0HN42AMLBRN31:00000004 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 5.3419ms (afa2e885)
2024-06-01T13:32:34.0694115-03:00 0HN42AMLBRN31:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T13:32:34.0714426-03:00 0HN42AMLBRN31:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?startDate=2024-06-01%2002%3A25%3A53&endDate=2024-06-01%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 9.419ms (74253ad3)
2024-06-01T13:32:39.5700450-03:00 0HN42AMLBRN32:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:32:39.5702768-03:00 0HN42AMLBRN32:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:32:39.5720402-03:00 0HN42AMLBRN32:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:32:39.6030550-03:00 0HN42AMLBRN32:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:32:39.6056286-03:00 0HN42AMLBRN32:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:32:39.7215256-03:00 0HN42AMLBRN32:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:32:39.7965757-03:00 0HN42AMLBRN32:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:32:39.8016062-03:00 0HN42AMLBRN32:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:32:39.8108203-03:00 0HN42AMLBRN32:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 238.6631ms (afa2e885)
2024-06-01T13:32:39.8109045-03:00 0HN42AMLBRN32:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:32:39.8114183-03:00 0HN42AMLBRN32:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 241.3081ms (74253ad3)
2024-06-01T13:35:18.8027003-03:00 0HN42AMLBRN33:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products/description/produto""" - null null (d509f86a)
2024-06-01T13:35:18.8030215-03:00 0HN42AMLBRN33:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.GetByDescription (Trabalho Final)"' (500cc934)
2024-06-01T13:35:18.8058205-03:00 0HN42AMLBRN33:00000001 [INF] Route matched with "{action = \"GetByDescription\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbProduct]] GetByDescription(System.String)" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:35:18.8388580-03:00 0HN42AMLBRN33:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__Format_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.description LIKE @__Format_1 ESCAPE ''" (0723d8ff)
2024-06-01T13:35:18.8392730-03:00 0HN42AMLBRN33:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbProduct, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T13:35:18.8405813-03:00 0HN42AMLBRN33:00000001 [INF] Executed action "ApiWebDB.Controllers.ProductsController.GetByDescription (Trabalho Final)" in 34.6295ms (afa2e885)
2024-06-01T13:35:18.8406821-03:00 0HN42AMLBRN33:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.GetByDescription (Trabalho Final)"' (99874f2b)
2024-06-01T13:35:18.8412896-03:00 0HN42AMLBRN33:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products/description/produto""" - 200 null "application/json; charset=utf-8" 38.5603ms (74253ad3)
2024-06-01T13:35:24.3901097-03:00 0HN42AMLBRN33:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products/description/Produto""" - null null (d509f86a)
2024-06-01T13:35:24.3927495-03:00 0HN42AMLBRN33:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.ProductsController.GetByDescription (Trabalho Final)"' (500cc934)
2024-06-01T13:35:24.3929996-03:00 0HN42AMLBRN33:00000002 [INF] Route matched with "{action = \"GetByDescription\", controller = \"Products\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbProduct]] GetByDescription(System.String)" on controller "ApiWebDB.Controllers.ProductsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:35:24.4030436-03:00 0HN42AMLBRN33:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__Format_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.description LIKE @__Format_1 ESCAPE ''" (0723d8ff)
2024-06-01T13:35:24.4048936-03:00 0HN42AMLBRN33:00000002 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbProduct, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T13:35:24.4058047-03:00 0HN42AMLBRN33:00000002 [INF] Executed action "ApiWebDB.Controllers.ProductsController.GetByDescription (Trabalho Final)" in 12.6505ms (afa2e885)
2024-06-01T13:35:24.4058751-03:00 0HN42AMLBRN33:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.ProductsController.GetByDescription (Trabalho Final)"' (99874f2b)
2024-06-01T13:35:24.4067157-03:00 0HN42AMLBRN33:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Products/description/Produto""" - 200 null "application/json; charset=utf-8" 16.4582ms (74253ad3)
2024-06-01T13:36:20.2309260-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:36:30.7944043-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:36:30.8651336-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:36:30.8667685-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:36:30.8669963-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:36:38.5808966-03:00 0HN42B417V1P9:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:36:38.6810337-03:00 0HN42B417V1P9:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:36:38.7124359-03:00 0HN42B417V1P9:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:36:40.9839182-03:00 0HN42B417V1P9:00000001 [INF] Executed DbCommand ("75"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:36:41.2109285-03:00 0HN42B417V1P9:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:36:41.4015768-03:00 0HN42B417V1P9:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:36:41.4758504-03:00 0HN42B417V1P9:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:36:41.4945570-03:00 0HN42B417V1P9:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:36:41.5834209-03:00 0HN42B417V1P9:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2864.7642ms (afa2e885)
2024-06-01T13:36:41.5835397-03:00 0HN42B417V1P9:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:36:41.5995087-03:00 0HN42B417V1P9:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3020.6338ms (74253ad3)
2024-06-01T13:38:21.8998021-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:38:32.8997991-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:38:32.9643646-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:38:32.9664280-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:38:32.9666681-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:38:45.5726391-03:00 0HN42B57343NE:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:38:45.6361073-03:00 0HN42B57343NE:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:38:45.6645179-03:00 0HN42B57343NE:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:38:47.7629975-03:00 0HN42B57343NE:00000001 [INF] Executed DbCommand ("75"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:38:48.0178909-03:00 0HN42B57343NE:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate <= @__endDate_1" (0723d8ff)
2024-06-01T13:38:48.2554936-03:00 0HN42B57343NE:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:38:48.3356992-03:00 0HN42B57343NE:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:38:48.3581912-03:00 0HN42B57343NE:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:38:48.4498965-03:00 0HN42B57343NE:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2780.9003ms (afa2e885)
2024-06-01T13:38:48.4501150-03:00 0HN42B57343NE:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:38:48.4650909-03:00 0HN42B57343NE:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 2893.838ms (74253ad3)
2024-06-01T13:39:23.7964213-03:00 0HN42B57343NF:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?endDate=2024-06-01%2023%3A59%3A59" - null null (d509f86a)
2024-06-01T13:39:23.8179383-03:00 0HN42B57343NF:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (500cc934)
2024-06-01T13:39:23.8285708-03:00 0HN42B57343NF:00000001 [INF] Route matched with "{action = \"GetPromotionsByProductAndPeriod\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ApiWebDB.BaseDados.Models2.TbPromotion]] GetPromotionsByProductAndPeriod(Int32, System.DateTime, System.DateTime)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:39:23.9176552-03:00 0HN42B57343NF:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.startdate >= @__startDate_1 AND t.enddate <= @__endDate_2" (0723d8ff)
2024-06-01T13:39:23.9538600-03:00 0HN42B57343NF:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbPromotion, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T13:39:23.9602662-03:00 0HN42B57343NF:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)" in 131.5003ms (afa2e885)
2024-06-01T13:39:23.9604233-03:00 0HN42B57343NF:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.GetPromotionsByProductAndPeriod (Trabalho Final)"' (99874f2b)
2024-06-01T13:39:23.9617528-03:00 0HN42B57343NF:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Promotions/product/2/period""?endDate=2024-06-01%2023%3A59%3A59" - 200 null "application/json; charset=utf-8" 165.3573ms (74253ad3)
2024-06-01T13:44:29.5702404-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:44:40.8884190-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:44:40.9749225-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:44:40.9767742-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:44:40.9770107-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:44:59.9257917-03:00 0HN42B8ML4PQE:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:45:00.0098288-03:00 0HN42B8ML4PQE:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:45:00.0421508-03:00 0HN42B8ML4PQE:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:45:02.2175474-03:00 0HN42B8ML4PQE:00000001 [INF] Executed DbCommand ("75"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:45:02.4273734-03:00 0HN42B8ML4PQE:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T13:45:02.6569355-03:00 0HN42B8ML4PQE:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:45:02.7384566-03:00 0HN42B8ML4PQE:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:45:02.7561525-03:00 0HN42B8ML4PQE:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:45:02.8472443-03:00 0HN42B8ML4PQE:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2800.9568ms (afa2e885)
2024-06-01T13:45:02.8474453-03:00 0HN42B8ML4PQE:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:45:02.8623345-03:00 0HN42B8ML4PQE:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 2938.7124ms (74253ad3)
2024-06-01T13:54:03.6477405-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T13:54:17.6053073-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T13:54:17.6703501-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T13:54:17.6719445-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T13:54:17.6720905-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T13:58:31.8830327-03:00 0HN42BG8KADTL:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 134 (d509f86a)
2024-06-01T13:58:31.9722206-03:00 0HN42BG8KADTL:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T13:58:32.0052404-03:00 0HN42BG8KADTL:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T13:58:34.3965306-03:00 0HN42BG8KADTL:00000001 [INF] Executed DbCommand ("80"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T13:58:34.6402235-03:00 0HN42BG8KADTL:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T13:58:34.8793276-03:00 0HN42BG8KADTL:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T13:58:34.9651485-03:00 0HN42BG8KADTL:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T13:58:34.9802795-03:00 0HN42BG8KADTL:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T13:58:35.0738758-03:00 0HN42BG8KADTL:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 3062.6388ms (afa2e885)
2024-06-01T13:58:35.0740138-03:00 0HN42BG8KADTL:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T13:58:35.0887620-03:00 0HN42BG8KADTL:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3208.8082ms (74253ad3)
2024-06-01T14:08:06.4058068-03:00 0HN42BG8KADTM:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 78 (d509f86a)
2024-06-01T14:08:06.4094015-03:00 0HN42BG8KADTM:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:08:06.4100957-03:00 0HN42BG8KADTM:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:08:06.7278787-03:00 0HN42BG8KADTM:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:08:06.7323860-03:00 0HN42BG8KADTM:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:08:06.7406767-03:00 0HN42BG8KADTM:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:08:06.7490237-03:00 0HN42BG8KADTM:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:08:06.7508796-03:00 0HN42BG8KADTM:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:08:06.7530057-03:00 0HN42BG8KADTM:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 342.7035ms (afa2e885)
2024-06-01T14:08:06.7537663-03:00 0HN42BG8KADTM:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:08:06.7554643-03:00 0HN42BG8KADTM:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 349.527ms (74253ad3)
2024-06-01T14:08:56.7616180-03:00 0HN42BG8KADTM:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 115 (d509f86a)
2024-06-01T14:08:56.7633001-03:00 0HN42BG8KADTM:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:08:56.7634552-03:00 0HN42BG8KADTM:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:08:56.8688863-03:00 0HN42BG8KADTM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:08:56.8719716-03:00 0HN42BG8KADTM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:08:56.8779271-03:00 0HN42BG8KADTM:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:08:56.8829487-03:00 0HN42BG8KADTM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:08:56.8846697-03:00 0HN42BG8KADTM:00000002 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:08:56.8864422-03:00 0HN42BG8KADTM:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 122.8578ms (afa2e885)
2024-06-01T14:08:56.8873740-03:00 0HN42BG8KADTM:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:08:56.8889031-03:00 0HN42BG8KADTM:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 127.222ms (74253ad3)
2024-06-01T14:09:43.8421976-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:10:00.3581058-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:10:00.4251666-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:10:00.4267060-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:10:00.4268350-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:11:11.7762539-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:11:24.0908183-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:11:24.1726779-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:11:24.1747594-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:11:24.1750179-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:11:45.6202072-03:00 0HN42BNL6A7OP:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 115 (d509f86a)
2024-06-01T14:11:45.6913260-03:00 0HN42BNL6A7OP:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:11:45.7200826-03:00 0HN42BNL6A7OP:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:11:47.8455841-03:00 0HN42BNL6A7OP:00000001 [INF] Executed DbCommand ("74"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:11:48.0878605-03:00 0HN42BNL6A7OP:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:11:48.3413805-03:00 0HN42BNL6A7OP:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:11:48.4295923-03:00 0HN42BNL6A7OP:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:11:48.4530099-03:00 0HN42BNL6A7OP:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:11:48.5623062-03:00 0HN42BNL6A7OP:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2837.5281ms (afa2e885)
2024-06-01T14:11:48.5624444-03:00 0HN42BNL6A7OP:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:11:48.5805259-03:00 0HN42BNL6A7OP:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 2962.1179ms (74253ad3)
2024-06-01T14:16:08.1324772-03:00 0HN42BNL6A7OQ:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 142 (d509f86a)
2024-06-01T14:16:08.1372243-03:00 0HN42BNL6A7OQ:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:16:08.1430216-03:00 0HN42BNL6A7OQ:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:16:08.1781552-03:00 0HN42BNL6A7OQ:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, startdate, value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING id, promotiontype;" (0723d8ff)
2024-06-01T14:16:08.1856678-03:00 0HN42BNL6A7OQ:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T14:16:08.1888645-03:00 0HN42BNL6A7OQ:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 45.6398ms (afa2e885)
2024-06-01T14:16:08.1889882-03:00 0HN42BNL6A7OQ:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:16:08.1905060-03:00 0HN42BNL6A7OQ:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 201 null "application/json; charset=utf-8" 57.2116ms (74253ad3)
2024-06-01T14:16:53.8023462-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:17:06.2761949-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:17:06.3410051-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:17:06.3427306-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:17:06.3428896-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:17:12.8035217-03:00 0HN42BQMMHKG9:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 115 (d509f86a)
2024-06-01T14:17:12.8761429-03:00 0HN42BQMMHKG9:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:17:12.9202847-03:00 0HN42BQMMHKG9:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:17:15.2273517-03:00 0HN42BQMMHKG9:00000001 [INF] Executed DbCommand ("73"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:17:15.4451701-03:00 0HN42BQMMHKG9:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:17:15.7230584-03:00 0HN42BQMMHKG9:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:17:15.8151970-03:00 0HN42BQMMHKG9:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:17:15.8358166-03:00 0HN42BQMMHKG9:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:17:15.9393507-03:00 0HN42BQMMHKG9:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 3013.5038ms (afa2e885)
2024-06-01T14:17:15.9394805-03:00 0HN42BQMMHKG9:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:17:15.9558978-03:00 0HN42BQMMHKG9:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3155.7309ms (74253ad3)
2024-06-01T14:18:13.4813458-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:18:25.7050858-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:18:25.7701962-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:18:25.7722354-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:18:25.7724198-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:18:37.6086756-03:00 0HN42BRFVB1C0:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 115 (d509f86a)
2024-06-01T14:18:37.6734968-03:00 0HN42BRFVB1C0:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:18:37.7024781-03:00 0HN42BRFVB1C0:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:18:39.9089665-03:00 0HN42BRFVB1C0:00000001 [INF] Executed DbCommand ("74"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:18:40.1474688-03:00 0HN42BRFVB1C0:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:18:40.4051468-03:00 0HN42BRFVB1C0:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:18:40.4920917-03:00 0HN42BRFVB1C0:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:18:40.5106508-03:00 0HN42BRFVB1C0:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:18:40.6092862-03:00 0HN42BRFVB1C0:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 2901.5923ms (afa2e885)
2024-06-01T14:18:40.6094648-03:00 0HN42BRFVB1C0:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:18:40.6262534-03:00 0HN42BRFVB1C0:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 3019.5851ms (74253ad3)
2024-06-01T14:20:36.1786679-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:20:47.7236124-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:20:47.8439762-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:20:47.8464876-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:20:47.8486383-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:23:21.4100585-03:00 0HN42BU4HQ7J7:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - "application/json" 142 (d509f86a)
2024-06-01T14:23:21.4886154-03:00 0HN42BU4HQ7J7:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:23:21.5229024-03:00 0HN42BU4HQ7J7:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Promotions\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.BaseDados.Models2.TbPromotion] Post(ApiWebDB.DTO.PromotionDTO)" on controller "ApiWebDB.Controllers.PromotionsController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:23:23.6380014-03:00 0HN42BU4HQ7J7:00000001 [INF] Executed DbCommand ("86"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, promotiontype, startdate, value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:23:23.7098350-03:00 0HN42BU4HQ7J7:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbPromotion"'. (605b4265)
2024-06-01T14:23:23.8113753-03:00 0HN42BU4HQ7J7:00000001 [INF] Executed action "ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)" in 2282.4294ms (afa2e885)
2024-06-01T14:23:23.8115679-03:00 0HN42BU4HQ7J7:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.PromotionsController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:23:23.8283199-03:00 0HN42BU4HQ7J7:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Promotions""" - 201 null "application/json; charset=utf-8" 2420.0451ms (74253ad3)
2024-06-01T14:23:31.5900892-03:00 0HN42BU4HQ7J8:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 115 (d509f86a)
2024-06-01T14:23:31.5967206-03:00 0HN42BU4HQ7J8:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:23:31.6020470-03:00 0HN42BU4HQ7J8:00000001 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:23:32.0757424-03:00 0HN42BU4HQ7J8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:23:32.2811200-03:00 0HN42BU4HQ7J8:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:23:32.4427962-03:00 0HN42BU4HQ7J8:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:23:32.5161381-03:00 0HN42BU4HQ7J8:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:23:32.5207109-03:00 0HN42BU4HQ7J8:00000001 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:23:32.5431462-03:00 0HN42BU4HQ7J8:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 939.95ms (afa2e885)
2024-06-01T14:23:32.5438108-03:00 0HN42BU4HQ7J8:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:23:32.5457001-03:00 0HN42BU4HQ7J8:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 955.5369ms (74253ad3)
2024-06-01T14:24:07.3093863-03:00 0HN42BU4HQ7J8:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 117 (d509f86a)
2024-06-01T14:24:07.3114086-03:00 0HN42BU4HQ7J8:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:24:07.3116182-03:00 0HN42BU4HQ7J8:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:24:07.3412802-03:00 0HN42BU4HQ7J8:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:24:07.3429026-03:00 0HN42BU4HQ7J8:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 31.1975ms (afa2e885)
2024-06-01T14:24:07.3433869-03:00 0HN42BU4HQ7J8:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:24:07.3873889-03:00 0HN42BU4HQ7J8:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Estoque insuficiente
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 48
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method83(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T14:24:07.3957187-03:00 0HN42BU4HQ7J8:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 86.1743ms (74253ad3)
2024-06-01T14:25:08.0848913-03:00 0HN42BU4HQ7J7:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T14:25:08.0936577-03:00 0HN42BU4HQ7J7:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T14:25:08.0958696-03:00 0HN42BU4HQ7J7:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(Int32)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:25:08.1375438-03:00 0HN42BU4HQ7J7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-01T14:25:08.1389468-03:00 0HN42BU4HQ7J7:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 42.9778ms (afa2e885)
2024-06-01T14:25:08.1391004-03:00 0HN42BU4HQ7J7:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T14:25:08.1404750-03:00 0HN42BU4HQ7J7:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
ApiWebDB.Services.Exceptions.NotFoundException: Sale not found
   at TrabalhoFinal.Services.SaleService.GetById(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 33
   at ApiWebDB.Controllers.SalesController.Get(Int32 id) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 29
   at lambda_method318(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T14:25:08.1425925-03:00 0HN42BU4HQ7J7:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 500 null "text/plain; charset=utf-8" 57.7368ms (74253ad3)
2024-06-01T14:28:46.4407706-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:31:36.3706321-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:31:36.4569185-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:31:36.4585271-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:31:36.4586527-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:31:41.1590346-03:00 0HN42C2P7EVNV:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - null null (d509f86a)
2024-06-01T14:31:41.4827916-03:00 0HN42C2P7EVNV:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 327.2007ms (74253ad3)
2024-06-01T14:31:41.7554105-03:00 0HN42C2P7EVNV:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2024-06-01T14:31:41.8021736-03:00 0HN42C2P7EVNV:00000002 [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2024-06-01T14:31:41.8030387-03:00 0HN42C2P7EVNV:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 47.6486ms (74253ad3)
2024-06-01T14:31:41.8548374-03:00 0HN42C2P7EVO0:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-01T14:31:42.1443999-03:00 0HN42C2P7EVO0:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 289.5375ms (74253ad3)
2024-06-01T14:31:51.4998741-03:00 0HN42C2P7EVO0:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T14:31:51.5121944-03:00 0HN42C2P7EVO0:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T14:31:51.5474485-03:00 0HN42C2P7EVO0:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(System.String)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:31:53.7798224-03:00 0HN42C2P7EVO0:00000002 [INF] Executed DbCommand ("95"ms) [Parameters=["@__code_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.code = @__code_0
LIMIT 1" (0723d8ff)
2024-06-01T14:31:53.9722493-03:00 0HN42C2P7EVO0:00000002 [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:31:54.0152031-03:00 0HN42C2P7EVO0:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 2463.0254ms (afa2e885)
2024-06-01T14:31:54.0153493-03:00 0HN42C2P7EVO0:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T14:31:54.0325660-03:00 0HN42C2P7EVO0:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 200 null "application/json; charset=utf-8" 2532.6294ms (74253ad3)
2024-06-01T14:32:30.8162170-03:00 0HN42C2P7EVO1:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T14:32:30.8181869-03:00 0HN42C2P7EVO1:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T14:32:30.8185251-03:00 0HN42C2P7EVO1:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(System.String)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:32:30.8562080-03:00 0HN42C2P7EVO1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__code_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.code = @__code_0
LIMIT 1" (0723d8ff)
2024-06-01T14:32:30.8587262-03:00 0HN42C2P7EVO1:00000001 [INF] Executing "OkObjectResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:32:30.8595343-03:00 0HN42C2P7EVO1:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 40.8838ms (afa2e885)
2024-06-01T14:32:30.8596448-03:00 0HN42C2P7EVO1:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T14:32:30.8599288-03:00 0HN42C2P7EVO1:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 200 null "application/json; charset=utf-8" 43.7297ms (74253ad3)
2024-06-01T14:35:25.1410292-03:00  [INF] Application is shutting down... (90f52c38)
2024-06-01T14:40:03.8897820-03:00  [INF] Now listening on: "http://localhost:5113" (d826f4b8)
2024-06-01T14:40:03.9733705-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-01T14:40:03.9759297-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-01T14:40:03.9764668-03:00  [INF] Content root path: "/home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final" (cc26f24e)
2024-06-01T14:40:08.4536513-03:00 0HN42C7GLOGTA:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T14:40:08.5244587-03:00 0HN42C7GLOGTA:00000001 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T14:40:08.5516099-03:00 0HN42C7GLOGTA:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(System.String)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:40:10.6939457-03:00 0HN42C7GLOGTA:00000001 [INF] Executed DbCommand ("85"ms) [Parameters=["@__code_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.code = @__code_0" (0723d8ff)
2024-06-01T14:40:10.8735918-03:00 0HN42C7GLOGTA:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T14:40:11.0136798-03:00 0HN42C7GLOGTA:00000001 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 2457.2348ms (afa2e885)
2024-06-01T14:40:11.0138111-03:00 0HN42C7GLOGTA:00000001 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T14:40:11.0299383-03:00 0HN42C7GLOGTA:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 200 null "application/json; charset=utf-8" 2579.1807ms (74253ad3)
2024-06-01T14:40:39.1636114-03:00 0HN42C7GLOGTA:00000002 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 106 (d509f86a)
2024-06-01T14:40:39.1673884-03:00 0HN42C7GLOGTA:00000002 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:40:39.1737278-03:00 0HN42C7GLOGTA:00000002 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:40:39.2643265-03:00 0HN42C7GLOGTA:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:40:39.2667563-03:00 0HN42C7GLOGTA:00000002 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 92.7083ms (afa2e885)
2024-06-01T14:40:39.2678293-03:00 0HN42C7GLOGTA:00000002 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:40:39.2952561-03:00 0HN42C7GLOGTA:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Estoque insuficiente
   at TrabalhoFinal.Services.SaleService.Insert(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Services/SaleService.cs:line 44
   at ApiWebDB.Controllers.SalesController.Post(SaleDTO dto) in /home/engel/repositorios/Trabalho-Final-Paradigmas-main/Trabalho Final/Controllers/SalesController.cs:line 35
   at lambda_method109(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-01T14:40:39.3024548-03:00 0HN42C7GLOGTA:00000002 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 500 null "text/plain; charset=utf-8" 138.7147ms (74253ad3)
2024-06-01T14:40:47.5986972-03:00 0HN42C7GLOGTA:00000003 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - "application/json" 105 (d509f86a)
2024-06-01T14:40:47.6013266-03:00 0HN42C7GLOGTA:00000003 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (500cc934)
2024-06-01T14:40:47.6015772-03:00 0HN42C7GLOGTA:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Post(ApiWebDB.DTO.SaleDTO)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:40:47.6940580-03:00 0HN42C7GLOGTA:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__p_0
LIMIT 1" (0723d8ff)
2024-06-01T14:40:47.7195475-03:00 0HN42C7GLOGTA:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_promotions AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.productid = @__productId_0 AND t.enddate >= @__endDate_1" (0723d8ff)
2024-06-01T14:40:47.9565884-03:00 0HN42C7GLOGTA:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET stock = @p0
WHERE id = @p1;
INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p2, @p3, @p4)
RETURNING id;" (0723d8ff)
2024-06-01T14:40:48.0260716-03:00 0HN42C7GLOGTA:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?' (DbType = DateTime2), @p2='?' (DbType = Decimal), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;" (0723d8ff)
2024-06-01T14:40:48.0336123-03:00 0HN42C7GLOGTA:00000003 [INF] Executing "CreatedAtActionResult", writing value of type '"ApiWebDB.BaseDados.Models2.TbSale"'. (605b4265)
2024-06-01T14:40:48.0788611-03:00 0HN42C7GLOGTA:00000003 [INF] Executed action "ApiWebDB.Controllers.SalesController.Post (Trabalho Final)" in 477.1472ms (afa2e885)
2024-06-01T14:40:48.0790308-03:00 0HN42C7GLOGTA:00000003 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Post (Trabalho Final)"' (99874f2b)
2024-06-01T14:40:48.0793232-03:00 0HN42C7GLOGTA:00000003 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5113""""/api/Sales""" - 201 null "application/json; charset=utf-8" 480.6145ms (74253ad3)
2024-06-01T14:41:04.7183615-03:00 0HN42C7GLOGTA:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T14:41:04.7194156-03:00 0HN42C7GLOGTA:00000004 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T14:41:04.7195569-03:00 0HN42C7GLOGTA:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(System.String)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:41:04.7224518-03:00 0HN42C7GLOGTA:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__code_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.code = @__code_0" (0723d8ff)
2024-06-01T14:41:04.7247349-03:00 0HN42C7GLOGTA:00000004 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T14:41:04.7260957-03:00 0HN42C7GLOGTA:00000004 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 6.4329ms (afa2e885)
2024-06-01T14:41:04.7261829-03:00 0HN42C7GLOGTA:00000004 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T14:41:04.7263692-03:00 0HN42C7GLOGTA:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 200 null "application/json; charset=utf-8" 7.9785ms (74253ad3)
2024-06-01T14:41:48.8111666-03:00 0HN42C7GLOGTA:00000005 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - null null (d509f86a)
2024-06-01T14:41:48.8115375-03:00 0HN42C7GLOGTA:00000005 [INF] Executing endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (500cc934)
2024-06-01T14:41:48.8116707-03:00 0HN42C7GLOGTA:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[ApiWebDB.DTO.SaleDTO] Get(System.String)" on controller "ApiWebDB.Controllers.SalesController" ("Trabalho Final"). (122b2fdf)
2024-06-01T14:41:48.8166748-03:00 0HN42C7GLOGTA:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__code_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.code, t.createat, t.discount, t.price, t.productid, t.qty, t0.id, t0.barcode, t0.barcodetype, t0.costprice, t0.description, t0.price, t0.stock
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.code = @__code_0" (0723d8ff)
2024-06-01T14:41:48.8201871-03:00 0HN42C7GLOGTA:00000005 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[ApiWebDB.BaseDados.Models2.TbSale, Trabalho Final, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-01T14:41:48.8212172-03:00 0HN42C7GLOGTA:00000005 [INF] Executed action "ApiWebDB.Controllers.SalesController.Get (Trabalho Final)" in 9.4639ms (afa2e885)
2024-06-01T14:41:48.8212919-03:00 0HN42C7GLOGTA:00000005 [INF] Executed endpoint '"ApiWebDB.Controllers.SalesController.Get (Trabalho Final)"' (99874f2b)
2024-06-01T14:41:48.8217409-03:00 0HN42C7GLOGTA:00000005 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5113""""/api/Sales/123""" - 200 null "application/json; charset=utf-8" 10.5791ms (74253ad3)
